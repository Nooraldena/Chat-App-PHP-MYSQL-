__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o=5;var s=r(d[13]).connect(function(s,t){const l=r(d[0]).getViewer(s),{currentState:n,items:u,paginationInfo:P,postModalId:p,showSurvey:c,visibleCount:S}=s.feed,{navSelection:h,route:T}=s.navigation,F=s.feed.extrasDataFetchStatus===r(d[1]).EXTRAS_DATA_FETCH_STATUS.loaded;let w={canFBConnect:r(d[2]).shouldDisplayFacebookConnect(s),extrasLoaded:F,followsSomeone:s.relationships.valueSeq().some(o=>o.followedByViewer.state===r(d[3]).FOLLOW_STATUS_FOLLOWING),hasNewPosts:r(d[4]).hasNewPosts(s),hasNextPage:!1,isConsentModalOpen:r(d[5]).isConsentModalOpen(s),isFetching:s.feed.isLoading||!(null===P||void 0===P?void 0:P.hasNextPage)&&s.suggestedUsers.isLoadingSuggestions,isOldestPostVisible:!1,items:u,justPosted:s.feed.justPosted,maxPostsToDisplay:S,navSelection:h,postModalId:p,prefetchNextPageThreshold:n===r(d[6]).FEED_STATE_CACHE?o:void 0,profilePicUploadIsInFlight:s.users.profilePicUploadIsInFlight,qp:s.qp.promotions,route:T,showAppInstallModal:!!t.showAppInstallModal,showSurvey:c,showUploadProgressBar:null!==s.uploadProgress.status,suggestedUserIds:r(d[2]).getNonDismissedAysfIds(s),viewer:l,viewportWidth:s.displayProperties.viewportWidth,willScrollToTop:s.feed.willScrollToTop};u&&(w={...w,items:u},P&&(w={...w,hasNextPage:Boolean(P.hasNextPage),isOldestPostVisible:!0!==P.hasNextPage&&null!=S&&S>=u.count()}),(n===r(d[6]).FEED_STATE_CACHE||n===r(d[6]).FEED_STATE_CACHE_PAGINATED)&&null===P&&(w={...w,hasNextPage:!0}));return w},function(o){return{onClearJustPosted(){o(r(d[7]).clearJustPosted())},onConsentFlowStart(s){o(r(d[8]).loadConsents(s))},onLoadBroadcasts(){o(r(d[9]).getBroadcasts())},onLoadNewPosts(){o(r(d[7]).commitStagedFeed())},onLoadNextPage(s,t){o(r(d[7]).loadNextPage(s,t))},onClosePostModal(){o(r(d[7]).closePostModal())},onOpenPostModal(s,t){o(r(d[7]).openPostModalForId(s)),t&&o(r(d[7]).loadNextPage(r(d[10]).DEFAULT_PAGE_SIZE))},onScrollToTop(){o(r(d[7]).scrolledToTop())},onSendConfirmEmail(){o(r(d[11]).sendConfirmEmail())},onSetFeedPageFilter(s){o(r(d[12]).setFeedPageFilter(s))},onSetShowSurvey(s){o(r(d[7]).setShowSurvey(s))}}})(r(d[10]).FeedPage);e.default=s},7667712,[13435258,13435149,3932171,13435047,13435295,7667713,13435044,13435257,13435475,13435580,7667714,13435262,13435610,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function s(s){return!s.suggestedUsers.viewerHasFBConnect}Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createSelector(s,r(d[1]).isFBConnectEligible,(s,t)=>!s&&(t&&!1!==i(d[2])._("2780af766858d793a2102c5778c3ef37","50372b591eb5911ad5fd277f83e88162")&&!1!==i(d[2])._("f32ccf5136ea284a177598172705431b","4a4821fbdaf0ad6813abb69f4449ab94"))),n=r(d[0]).createSelector(s=>s.suggestedUsers.ids,s=>s.suggestedUsers.dismissedAysfIds,(s,t)=>s.subtract(t).toArray()),o=r(d[0]).createSelector(s=>s.suggestedUsers.dismissedAysfIds,(s,t)=>i(d[3])(t.userIds).map(t=>r(d[4]).getUserById(s,t)),(s,t)=>t.filter(t=>!s.has(t.id)).toArray()),u=r(d[0]).createSelector(s=>s.suggestedUsers.ids,s=>s.toArray());e.isViewerFacebookConnected=s,e.shouldDisplayFacebookConnect=t,e.getNonDismissedAysfIds=n,e.getProfileChainingFailure=function(s,t){return!!s.suggestedUsers.profileChainingFailures.get(t)},e.getProfileChainingSuggestions=function(s,t){return s.suggestedUsers.profileChainingSuggestions.get(t)},e.getFeedAysfUsers=o,e.getSuggestions=u,e.isInitialLoad=function(s){return s.suggestedUsers.isLoadingSuggestions&&0===s.suggestedUsers.ids.size}},3932171,[9,3932172,13435040,13500444,13435258]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isConsentModalOpen=function(n){return n.consent.isModalOpen}},7667713,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return!!Object.values(r(d[18]).ConsentEntrypoints).includes(t)}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const s=r(d[1]).createAsyncComponent({fallback:a(d[2]).createElement(i(d[3]),{className:"KQA-S"}),resolve:()=>r(d[5])(d[4],"EmptyFeedPage")}),o=r(d[1]).createAsyncComponent({fallback:a(d[2]).createElement(i(d[3]),{className:"KQA-S"}),resolve:()=>r(d[5])(d[6],"NewUserActivatorsUnit")}),n=r(d[1]).createAsyncComponent({fallback:a(d[2]).createElement(i(d[3]),{className:"KQA-S"}),resolve:()=>r(d[5])(d[7],"FeedEndSuggestedUserUnit")}),l='feed',p=12;class h extends a(d[2]).Component{constructor(...t){super(...t),this.$MobileHeader1=(t=>{i(d[8])(this.$MobileHeader2).handleStoryCreationClick()}),this.$MobileHeader3=(t=>{window.scrollTo(0,0),t.preventDefault()})}$MobileHeader4(){const t=a(d[2]).createElement(i(d[9]),{containerModule:r(d[10]).CONNECTIONS_CONTAINER_MODULES.feed_timeline});return r(d[11]).hasDirect()?a(d[2]).createElement(i(d[12]),{location:this.props.location}):t}render(){const t=a(d[2]).createElement("button",{className:"mTGkH",key:'create_story',onClick:this.$MobileHeader1},a(d[2]).createElement(i(d[13]),{alt:r(d[14]).NEW_STORY_TEXT}));return a(d[2]).createElement("div",null,a(d[2]).createElement(i(d[15]),{leftActions:[t],rightActions:this.$MobileHeader4(),title:a(d[2]).createElement(i(d[16]),{isLink:!0})}),a(d[2]).createElement(i(d[17]),{entryPoint:"quick_cam_button",ref:t=>this.$MobileHeader2=t}))}}const c=(function(){let t=!1;return function(){t||(i(d[19]).appendActionIfNew(r(d[20]).IG_WEB_NUX_FUNNEL,r(d[20]).NUX_FUNNEL_FEED),i(d[19]).endFunnel(r(d[20]).IG_WEB_NUX_FUNNEL),t=!0)}})();class P extends a(d[2]).Component{constructor(t){var s;super(t),this.$_FeedPage1=0,this.$_FeedPage2=!1,this.$_FeedPage7=(()=>{window.scrollTo(0,0),this.props.onScrollToTop()}),this.$_FeedPage10=(t=>t?i(d[21]).VARIANTS.none:r(d[22]).isMobile()?i(d[21]).VARIANTS.slim:i(d[21]).VARIANTS.centered),this.$_FeedPage9=(()=>this.props.items&&0===this.props.items.size?i(d[23]).emptyFeedPage:i(d[23]).feedPage),this.$_FeedPage11=(()=>{this.setState({showProfilePicAdder:!1})}),this.$_FeedPage12=(()=>{this.setState({showAppInstallModal:!1})}),this.$_FeedPage13=(t=>{const s=null!=this.props.maxPostsToDisplay?t-this.props.maxPostsToDisplay:0;s>0&&this.props.onLoadNextPage(s)}),this.$_FeedPage14=(()=>{this.props.history.goBack()}),this.$_FeedPage5=(()=>{this.props.hasNewPosts&&0===window.scrollY&&this.props.onLoadNewPosts()}),this.$_FeedPage16=(()=>{const t=this.$_FeedPage15();return!r(d[22]).isDesktop()&&!t&&this.props.viewportWidth<=i(d[24])['feed-sidebar-threshold-min'].value}),this.$_FeedPage17=(()=>{const t=this.$_FeedPage15();return r(d[22]).isDesktop()&&!t}),this.$_FeedPage18=(()=>{return!this.$_FeedPage15()&&r(d[22]).isDesktop()&&this.props.viewportWidth>=i(d[24])['feed-sidebar-threshold-min'].value}),this.$_FeedPage22=(()=>{r(d[25]).logAction_DEPRECATED('newPostsPillClick'),this.$_FeedPage7()}),this.$_FeedPage23=(t=>{this.props.onLoadNextPage(p,t)}),this.$_FeedPage24=(t=>{null!=t.followHashtagInfo?r(d[26]).logImpression(t):r(d[27]).logImpressionForPost(t,l)}),this.$_FeedPage25=((t,s)=>{const{hasNextPage:o,items:n}=this.props;let l=!1;o&&n&&(l=s===n.size-2),this.props.onOpenPostModal(t,l)});const o=!(null===(s=this.props.viewer)||void 0===s?void 0:s.hasProfilePic);this.state={blockGDPRQPs:!1,isZeroRatingNewAndResEligible:r(d[28]).isZeroRatingNewAndResEligible(),isZeroRatingSelectEligible:r(d[28]).isZeroRatingSelectEligible(),isZeroRatingSlimEligible:r(d[28]).isZeroRatingSlimEligible(),showAppInstallModal:this.props.showAppInstallModal,showProfilePicAdder:o,showCreationUpsell:!1,showPostModal:!1,postModalId:null},this.$_FeedPage3=t.location,r(d[22]).isDesktop()&&r(d[29]).preloadModule()}$_FeedPage4(){null!=this.props.items&&this.props.onDisplayDone()}componentDidMount(){let s;try{s=r(d[30]).parseQueryParams()}catch(t){}s&&s.terms_start&&t(s.terms_start)&&(this.props.onConsentFlowStart(s.terms_start),this.setState({blockGDPRQPs:!0})),r(d[22]).isDesktop()&&r(d[31]).shouldFetchLiveInStories()&&this.props.onLoadBroadcasts(),this.$_FeedPage4(),r(d[32]).hasFeedCaching()&&(this.props.hasNewPosts&&!r(d[33]).shouldRestoreScroll(this.props.history)?this.props.onLoadNewPosts():window.addEventListener('scroll',this.$_FeedPage5)),r(d[34]).requestIdleCallback(()=>{r(d[35]).preloadPostModals()})}componentWillUnmount(){if(r(d[32]).hasFeedCaching()){window.removeEventListener('scroll',this.$_FeedPage5);const{hasNewPosts:t,navSelection:s}=this.props;t&&s!==r(d[36]).NAVIGATION_SECTION_HOME&&(r(d[33]).clearScrollPosition(this.$_FeedPage3),this.props.onLoadNewPosts())}}$_FeedPage6(){const{hash:t}=this.props.history.location;if(t)switch(this.props.history.replace(this.props.history.location.pathname),t){case i(d[37]).sharePhoto:this.props.onStartCreation('feed_upsell',r(d[38]).CreationMode.POST);break;case i(d[37]).openGDPRMegaphone:this.props.onConsentFlowStart(r(d[18]).ConsentEntrypoints.MEGAPHONE);break;case i(d[37]).openGDPRFullscreen:this.props.onConsentFlowStart(r(d[18]).ConsentEntrypoints.FULLSCREEN);break;case i(d[37]).openGDPRDialog:this.props.onConsentFlowStart(r(d[18]).ConsentEntrypoints.DIALOG);break;case i(d[37]).confirmEmail:this.props.onSendConfirmEmail();break;case i(d[37]).changeEmail:this.props.history.push(r(d[39]).PROFILE_EDIT_PATH);break;case i(d[37]).turnOnDataSaver:r(d[40]).setDataSaverConfig({...r(d[40]).getDataSaverOnDefaultConfig()},!0),this.props.history.push(r(d[39]).DATA_SAVER_PREFERENCES_PATH);break;case i(d[37]).survey:this.props.onSetShowSurvey(!0)}}componentDidUpdate(t){var s,o;this.props.willScrollToTop&&this.$_FeedPage7(),this.props.justPosted&&this.$_FeedPage8(),this.$_FeedPage6(),t.items&&this.props.items&&t.items.size!==this.props.items.size&&(this.$_FeedPage1=r(d[41]).now()),this.$_FeedPage4(),null!=t.items&&(null===(s=t.items)||void 0===s?void 0:s.size)!==(null===(o=this.props.items)||void 0===o?void 0:o.size)&&(r(d[42]).logComponentPerformanceTiming({component:'Feed',eventType:'nextPage',pageId:this.$_FeedPage9(),route:this.props.route,timeTaken:r(d[41]).now()-this.$_FeedPage1}),this.$_FeedPage1=0);!t.hasNewPosts&&this.props.hasNewPosts&&0===window.scrollY&&this.props.onLoadNewPosts()}$_FeedPage8(){this.props.onClearJustPosted()}$_FeedPage15(){const{items:t,suggestedUserIds:s}=this.props;return null!=t&&0===t.size&&null!=s&&s.length>0}$_FeedPage19(){return this.state.showProfilePicAdder&&a(d[2]).createElement(i(d[43]),{analyticsContext:l,className:"zMhqu",onHideClick:this.$_FeedPage11,profilePicUploadIsInFlight:this.props.profilePicUploadIsInFlight})}$_FeedPage20(){return a(d[2]).createElement(i(d[44]),{campaign:"webSignup",onClose:this.$_FeedPage12})}$_FeedPage21(){const t={[i(d[45]).fbconnect]:this.props.canFBConnect,[i(d[45]).gdprDialog]:!this.state.blockGDPRQPs,[i(d[45]).gdprFullscreen]:!this.state.blockGDPRQPs,[i(d[45]).gdprMegaphoneDis]:!this.state.blockGDPRQPs,[i(d[45]).gdprMegaphoneNondis]:!this.state.blockGDPRQPs};return this.props.onSetFeedPageFilter(t),a(d[2]).createElement(i(d[46]),{filter:t,slot:"feed"})}$_FeedPage26(){const t=[];if(this.props.items)for(const s of this.props.items)switch(s.type){case r(d[47]).GRAPH_IMAGE:case r(d[47]).GRAPH_VIDEO:case r(d[47]).GRAPH_SIDECAR:t.push(s.postId)}return a(d[2]).createElement(i(d[48]),{postIds:t,viewKey:r(d[49]).FEED_VIEW})}$_FeedPage27(){const{hasNextPage:t,items:s,maxPostsToDisplay:p,viewportWidth:h}=this.props;if(null==s)return a(d[2]).createElement(i(d[3]),{className:"KQA-S"});const c=h>=r(d[50]).SITE_WIDTHS.narrow?r(d[51]).VARIANTS.wide:r(d[51]).VARIANTS.narrow,P=`_8Rm4L ${r(d[22]).isDesktop()?"bLWKA":""}`;return a(d[2]).createElement(a(d[2]).Fragment,null,s.size>0&&a(d[2]).createElement(o,{className:"_2eEhX",module:r(d[52]).MODULES.feed}),null!=p&&a(d[2]).createElement(i(d[53]),{allowSampledScrollLogging:!0,analyticsContext:l,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,itemClassName:P,items:s,onNextPage:this.$_FeedPage23,onPostImpression:this.$_FeedPage24,prefetchNextPageThreshold:this.props.prefetchNextPageThreshold,variant:c,visibleCount:Math.min(p,s.size)}),!t&&null!=s&&s.size>0&&a(d[2]).createElement(n,{variant:c}))}$_FeedPage28(){return null!=this.props.items&&this.props.items.size>0&&c(),a(d[2]).createElement(a(d[2]).Fragment,null,this.$_FeedPage27(),this.$_FeedPage26())}$_FeedPage29(){const{followsSomeone:t,onScrollToTop:o,suggestedUserIds:n}=this.props;return a(d[2]).createElement(s,{followsSomeone:t,onScrollToTop:o,scrollToTop:this.$_FeedPage7,suggestedUserIds:n})}$_FeedPage30(){if(!r(d[22]).isMobile())return null;let t=null;return this.state.isZeroRatingNewAndResEligible?t='new_res_banner_impression':this.state.isZeroRatingSelectEligible?t='select_banner_impression':this.state.isZeroRatingSlimEligible&&(t='slim_banner_impression'),t&&!this.$_FeedPage2&&(r(d[25]).logZeroEvent({event_name:t}),this.$_FeedPage2=!0),t?a(d[2]).createElement(i(d[54]),null):null}$_FeedPage31(){return this.props.isConsentModalOpen?null:r(d[55]).showAddToHomeScreen()?a(d[2]).createElement(r(d[57]).AddToHomeScreenModal,null):a(d[2]).createElement(i(d[56]),null)}$_FeedPage32(){const{hasNewPosts:t}=this.props;return t&&a(d[2]).createElement(r(d[58]).Box,{position:"fixed"},a(d[2]).createElement(r(d[58]).Pill,{onClick:this.$_FeedPage22},r(d[59])(599)))}render(){const t=this.$_FeedPage15(),s=this.props.justPosted,o=void 0!==this.props.likedByShortcode&&''!==this.props.likedByShortcode?a(d[2]).createElement(i(d[60]),{display:i(d[61]).modal,onClose:this.$_FeedPage14,shortcode:this.props.likedByShortcode}):null,n=this.$_FeedPage9(),l=t&&r(d[22]).isMobile();return a(d[2]).createElement(i(d[62]),null,a(d[2]).createElement(r(d[63]).AutoplayViewpointProvider,null,a(d[2]).createElement(i(d[64]),{androidAppLink:s?void 0:'/_n/mainfeed/',footerVariant:this.$_FeedPage10(this.$_FeedPage18()),iOSAppLink:s?void 0:'mainfeed',maxWidth:r(d[22]).isMobile()||!t?r(d[50]).SITE_WIDTHS.narrow:r(d[50]).SITE_WIDTHS.wide,mobileHeader:a(d[2]).createElement(h,{location:this.props.location}),pageIdentifier:n},a(d[2]).createElement(i(d[65]),{id:n}),a(d[2]).createElement(i(d[66]),null,a(d[2]).createElement("section",{className:`_1SP8R ${r(d[22]).isDesktop()?"C3uDN":""} ${this.$_FeedPage18()?"j9XKR":""} ${r(d[22]).isMobile()?"M_qbh":""} ${l?"yWxDb":""}`},this.$_FeedPage30(),this.props.showUploadProgressBar&&a(d[2]).createElement(i(d[67]),null),this.$_FeedPage16()&&a(d[2]).createElement(i(d[68]),{key:"storyTray"}),a(d[2]).createElement("div",{className:this.$_FeedPage18()?"cGcGK":""},this.$_FeedPage17()&&a(d[2]).createElement(i(d[68]),{hideOwnStory:this.$_FeedPage18(),key:"storyTray"}),!l&&(this.$_FeedPage21()||this.$_FeedPage19()),t?this.$_FeedPage29():this.$_FeedPage28()),this.$_FeedPage18()&&a(d[2]).createElement(r(d[29]).FeedSidebarContainerLoader,null)),this.state.showAppInstallModal&&this.$_FeedPage20(),this.$_FeedPage31(),o,a(d[2]).createElement(i(d[69]),null),!this.state.showProfilePicAdder&&a(d[2]).createElement(i(d[70]),null),this.$_FeedPage32(),this.props.extrasLoaded&&a(d[2]).createElement(i(d[71]),{prefetchContext:"feed"}),this.props.showSurvey&&a(d[2]).createElement(i(d[72]),{onClose:()=>this.props.onSetShowSurvey(!1)}),null!==this.props.postModalId&&a(d[2]).createElement(i(d[73]),{onClose:this.props.onClosePostModal,onOpen:this.$_FeedPage25,postId:this.props.postModalId||''}),i(d[74])._("bed369d8cb9072d1ae8b7a9289ce9b01")&&a(d[2]).createElement(r(d[75]).HeroHoldTrigger,{description:"FeedPage",hold:this.props.isFetching})))))}}const _=r(d[76]).withRouter(r(d[77]).displayDoneBlocking('FeedPage',i(d[78])(P)));e.DEFAULT_PAGE_SIZE=p,e._FeedPage=P,e.FeedPage=_},7667714,[7667715,13500727,3,7667716,7274496,68,7340032,7405568,13500444,6815747,13435558,13435043,13500814,7667718,13435516,13500720,7667720,7667722,13435410,13435391,6881285,13238450,13434887,13435120,13500456,13434982,7667723,13239172,13434957,7667724,13435315,13435576,13435039,3932217,13435347,13239041,13435307,7667726,13500459,13435123,13435482,13435094,13435095,7667727,13238449,13435312,13238821,13434996,3801276,13434997,13500599,13239026,7667729,7667730,7667731,3932228,7667733,3932226,13500463,13434940,13239258,13238956,7667736,13500545,13238433,13500865,7667739,7667740,7667742,13238843,4653064,3801274,7667760,7667784,13434937,13435386,6,13500646,3932180]);
__d(function() {},7667715,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const{VisualCompletionAttributes:t}=i(d[1]);e.default=function({className:s}){const c=r(d[2]).useTheme();return a(d[3]).createElement("div",i(d[4])({},t.LOADING_STATE,{className:i(d[5])("_tcb0",s)}),a(d[3]).createElement("div",{className:"pOb2E"},a(d[3]).createElement("div",{className:"OzqB_"}),a(d[3]).createElement("div",{className:"L3tlg"},a(d[3]).createElement("div",{className:"_8VIOK"}),a(d[3]).createElement("div",{className:"u9F97"}))),a(d[3]).createElement("div",{className:`WidCF ${c.getTheme()===r(d[2]).THEME.dark?"-bs0y":""}`}))}},7667716,[7667717,13435350,13500471,3,13435345,13500468]);
__d(function() {},7667717,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=({containerModule:t,filled:E=!1})=>a(d[0]).createElement(i(d[1]),{onClick:()=>{r(d[2]).logAction_DEPRECATED('discoverButtonClicked',{containerModule:t}),r(d[3]).browserHistory.push(r(d[4]).DISCOVER_PEOPLE_PATH)}},E?a(d[0]).createElement(i(d[5]),{alt:r(d[6]).DISCOVER_PEOPLE_TEXT}):a(d[0]).createElement(i(d[7]),{alt:r(d[6]).DISCOVER_PEOPLE_TEXT}));e.default=t},6815747,[3,13500495,13434982,13435296,13435123,6815748,13435516,6815749]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var c=a(d[0]).memo(function(c){return a(d[0]).createElement(i(d[1]),i(d[2])({},c,{viewBox:"0 0 48 48"}),a(d[0]).createElement("path",{clipRule:"evenodd",d:"M46 41.5H18c-.8 0-1.5-.7-1.5-1.5v-1.5c0-5.5 4.5-10 10-10h11c5.5 0 10 4.5 10 10V40c0 .8-.7 1.5-1.5 1.5zm-14-16c-5.2 0-9.5-4.3-9.5-9.5s4.3-9.5 9.5-9.5 9.5 4.3 9.5 9.5-4.3 9.5-9.5 9.5zm-16 1h-4.5V31c0 .8-.7 1.5-1.5 1.5H8c-.8 0-1.5-.7-1.5-1.5v-4.5H2c-.8 0-1.5-.7-1.5-1.5v-2c0-.8.7-1.5 1.5-1.5h4.5V17c0-.8.7-1.5 1.5-1.5h2c.8 0 1.5.7 1.5 1.5v4.5H16c.8 0 1.5.7 1.5 1.5v2c0 .8-.7 1.5-1.5 1.5z",fillRule:"evenodd"}))});e.default=c},6815748,[3,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var c=a(d[0]).memo(function(c){return a(d[0]).createElement(i(d[1]),i(d[2])({},c,{viewBox:"0 0 48 48"}),a(d[0]).createElement("path",{d:"M32 25.5c5.2 0 9.5-4.3 9.5-9.5S37.2 6.5 32 6.5s-9.5 4.3-9.5 9.5 4.3 9.5 9.5 9.5zm0-16c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5-6.5-2.9-6.5-6.5 2.9-6.5 6.5-6.5zm5.5 19h-11c-5.5 0-10 4.5-10 10V40c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-3.9 3.1-7 7-7h11c3.9 0 7 3.1 7 7V40c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-5.5-4.5-10-10-10zm-20-4.5c0-.8-.7-1.5-1.5-1.5h-5.5V17c0-.8-.7-1.5-1.5-1.5s-1.5.7-1.5 1.5v5.5H2c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5h5.5V31c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-5.5H16c.8 0 1.5-.7 1.5-1.5z"}))});e.default=c},6815749,[3,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var c=a(d[2]).memo(function(c){return!0===(r(d[0]).isUserLoggedIn()?i(d[1])._("17eee9316ff98419f0da0f87506e1826","5674296d5992b855933c716066375b34"):i(d[1])._("282188012a6be9b45d0a5625db9131e5","42f2cd6fa53e15b032c207ba139724e3"))?a(d[2]).createElement(i(d[3]),c):a(d[2]).createElement(i(d[4]),i(d[5])({},c,{viewBox:"0 0 48 48"}),a(d[2]).createElement("path",{clipRule:"evenodd",d:"M38.5 46h-29c-5 0-9-4-9-9V17c0-5 4-9 9-9h1.1c1.1 0 2.2-.6 2.7-1.7l.5-1c1-2 3.1-3.3 5.4-3.3h9.6c2.3 0 4.4 1.3 5.4 3.3l.5 1c.5 1 1.5 1.7 2.7 1.7h1.1c5 0 9 4 9 9v20c0 5-4 9-9 9zm6-29c0-3.3-2.7-6-6-6h-1.1C35.1 11 33 9.7 32 7.7l-.5-1C31 5.6 29.9 5 28.8 5h-9.6c-1.1 0-2.2.6-2.7 1.7l-.5 1c-1 2-3.1 3.3-5.4 3.3H9.5c-3.3 0-6 2.7-6 6v20c0 3.3 2.7 6 6 6h29c3.3 0 6-2.7 6-6V17zM24 38c-6.4 0-11.5-5.1-11.5-11.5S17.6 15 24 15s11.5 5.1 11.5 11.5S30.4 38 24 38zm0-20c-4.7 0-8.5 3.8-8.5 8.5S19.3 35 24 35s8.5-3.8 8.5-8.5S28.7 18 24 18z",fillRule:"evenodd"}))});e.default=c},7667718,[13434984,13435040,3,7667719,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=a(d[0]).memo(function(t){return a(d[0]).createElement(i(d[1]),i(d[2])({},t,{viewBox:"0 0 24 24"}),a(d[0]).createElement("circle",{cx:"12",cy:"13.191",fill:"none",r:"4.539",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),a(d[0]).createElement("path",{d:"M18.592 21.374A3.408 3.408 0 0022 17.966V8.874a3.41 3.41 0 00-3.41-3.409h-.52a2.108 2.108 0 01-1.954-1.375 2.082 2.082 0 00-2.204-1.348h-3.824A2.082 2.082 0 007.884 4.09 2.108 2.108 0 015.93 5.465h-.52A3.41 3.41 0 002 8.875v9.091a3.408 3.408 0 003.408 3.408z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}))});e.default=t},7667719,[3,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=()=>a(d[1]).createElement(r(d[2]).Image,{alt:r(d[3]).INSTAGRAM_TEXT,srcx:"images/web/mobile_nav_type_logo.png",__src:{light:"/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",dark:"/static/images/web/mobile_nav_type_logo-dark.png/ff9b85f2b7ca.png"},__srcSet:{light:"/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png 2x",dark:"/static/images/web/mobile_nav_type_logo-dark-2x.png/908edfc84eda.png 2x"}});var n=r(d[6]).withRouter(({history:n,isLink:l})=>{const o=n.location.pathname===r(d[4]).FEED_PATH,c=t=>{window.scrollTo(0,0),t.preventDefault()};return!0===l?a(d[1]).createElement("div",{className:"nLR5g"},a(d[1]).createElement(i(d[5]),{href:"/",onClick:o?c:void 0},a(d[1]).createElement(t,null))):a(d[1]).createElement("div",{className:"i4jjS"},a(d[1]).createElement(t,null))});e.default=n},7667720,[7667721,3,13500463,13435272,13435123,13500475,6]);
__d(function() {},7667721,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[6]).connect(null,function(t){return{onMediaSelect(o){o.length&&(i(d[0]).appendAction(r(d[1]).STORY_CREATION_FUNNEL,r(d[1]).STORY_CREATION_PICKED_FILE),t(r(d[5]).storyCreationSelectMedia(o[0])))},onStartStoryCreation:o=>t(r(d[5]).startStoryCreationSession(o))}},null,{forwardRef:!0})(class extends a(d[3]).Component{constructor(...t){super(...t),this.handleStoryCreationClick=(()=>{!0!==this.$StoryCreationFileForm1&&(i(d[0]).startFunnel(r(d[1]).STORY_CREATION_FUNNEL),this.$StoryCreationFileForm1=!0,this.props.onStartStoryCreation(this.props.entryPoint).then(()=>{i(d[2])(this.$StoryCreationFileForm2).selectFile(),this.$StoryCreationFileForm1=!1}).catch(()=>{this.$StoryCreationFileForm1=!1}))})}render(){return a(d[3]).createElement(r(d[4]).ImageFileForm,{acceptMimeTypes:['image/jpeg'],onFileChange:this.props.onMediaSelect,ref:t=>this.$StoryCreationFileForm2=t})}});e.default=t},7667722,[13435391,6422536,13500444,3,3407881,6422535,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.STORY_CREATION_BAD_ASPECT_RATIO='bad_aspect_ratio',e.STORY_CREATION_DISCARD_CANCEL='discard_cancel',e.STORY_CREATION_DISCARD_CONFIRMATION='discard_confirmation',e.STORY_CREATION_DOODLE_ENTER='story_creation_doodle_enter',e.STORY_CREATION_DOODLE_EXIT='story_creation_doodle_exit',e.STORY_CREATION_FINALIZE_FAILED='story_finalize_failed',e.STORY_CREATION_FUNNEL='IG_WEB_STORY_CREATION_FUNNEL',e.STORY_CREATION_PICKED_FILE='picked_file',e.STORY_CREATION_SAVE='save',e.STORY_CREATION_START_PICK_FILE='start_pick_file',e.STORY_CREATION_STORY_CREATION_FAILED='story_creation_failed',e.STORY_CREATION_STORY_CREATION_SUCCESS='story_creation_success',e.STORY_CREATION_UPLOAD_STAGE_SUCCESS='upload_staged',e.STORY_CREATION_UPLOAD_START='upload_start'},6422536,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){const o=n.storyCreation,{start_time:_,...T}=o.logData,E=(Date.now()-_)/1e3,R=o.canvasStickers;let O=!1;const S=[];for(const t of R)t.type===r(d[7]).TEXT_TYPE?O=!0:S.push(t.variants[0].id);return{...T,exit_point:r(d[6]).STORY_CREATION_EXIT_POINT.POST,has_brush:o.activeDrawing.linesArray.length>0,has_sticker:S.length>0,has_text:O,step:t,sticker_ids:S,waterfall_duration:E,waterfall_id:i(d[8])(o.sessionId)}}function n(n){return(o,_)=>{const T=_();return r(d[6]).logStoryCreationEvent(t('image_process_attempt',T)),i(d[14])(r(d[9]).readImageFile(n).then(T=>{o({type:r(d[0]).STORY_CREATION_IMAGE_PROCESSED,height:T.height,location:T.location,orientation:T.orientation,sourceDataURL:T.dataURL,sourceImage:n,width:T.width,flash:T.flash}),r(d[6]).logStoryCreationEvent(t('image_process_success',_())),r(d[15]).browserHistory.push('/create/story/')},n=>{r(d[6]).logStoryCreationEvent(t('image_process_failure',T)),o(r(d[3]).showToast({text:r(d[16])(3054),persistOnNavigate:!0})),n instanceof Error?(n.name='[StoryCreation] '+n.name,r(d[17]).logError(n)):i(d[18])('[StoryCreation] error in processing image')}))}}function o(t){return(n,o)=>{const _=Date.now().toString(),T=`story_${_}`;return i(d[14])(r(d[10]).readVideoFile(t).then(o=>(n({type:r(d[0]).STORY_CREATION_VIDEO_PROCESSED,dataURL:o.src,entityName:T,file:t,uploadId:_,uploadMediaHeight:o.videoHeight,uploadMediaWidth:o.videoWidth,uploadMediaDurationMs:Math.floor(1e3*o.duration),videoTransform:null,mediaPublishMode:r(d[19]).MediaPublishMode.REEL}),r(d[20]).getVideoCoverPhoto(o))).then(t=>{n({type:r(d[0]).STORY_CREATION_VIDEO_COVER_PHOTO_UPDATED,dataURL:t.dataURL,entityName:T,file:t.file,uploadId:_,uploadMediaHeight:t.uploadMediaHeight,uploadMediaWidth:t.uploadMediaWidth}),r(d[15]).browserHistory.push('/create/story/')}).catch(t=>{t instanceof Error?(t.name='[StoryCreation] '+t.name,r(d[17]).logError(t)):i(d[18])('[StoryCreation] error in processing video')}))}}function _(t){return n=>i(d[14])(r(d[21]).creationFinalizeStory(t).then(o=>{if(!o.media||!o.media.pk)throw o;n({type:r(d[0]).STORY_CREATION_UPLOAD_SUCCEEDED,toast:{text:r(d[4]).VIDEO_ADDED_TEXT,persistOnNavigate:!0},uploadId:t}),n(T())}))}function T(){return(t,n)=>t(r(d[24]).refreshStoryReels()).then(()=>{const o=i(d[8])(r(d[25]).getViewer(n()));t(r(d[24]).invalidateStoryReel(o.id)),r(d[15]).browserHistory.push('/'),t(r(d[23]).setNavSelection('NAVIGATION_SECTION_HOME'))})}Object.defineProperty(e,'__esModule',{value:!0});const E='error',R=t=>{for(let n=0;n<t.length;n++)if('number'==typeof t[n].id)return n;return-1};e.setCanvasDimensions=function(t,n){return{type:r(d[0]).STORY_CREATION_SET_CANVAS_DIMENSIONS,canvasWidth:t,canvasHeight:n}},e.startStoryCreationSession=function(t){return(n,o)=>new Promise(function(_,T){const{viewportHeight:E,viewportWidth:R}=o().displayProperties;if(E<R)return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_BAD_ASPECT_RATIO),i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),n(r(d[3]).showToast({text:r(d[4]).STORY_LANDSCAPE_WARNING_TEXT})),T({});i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_START_PICK_FILE);const O=i(d[5])();return n({type:r(d[0]).STORY_CREATION_SESSION_STARTED,sessionId:O,entryPoint:t,startTime:Date.now()}),r(d[6]).logStoryCreationEvent({step:'enter',waterfall_id:O,entry_point:t}),_({})})},e.storyCreationSelectMedia=function(t){return _=>{const T=t.type;r(d[9]).isImage(T)?_(n(t)):r(d[10]).isVideo(T)&&r(d[11]).getIgLiteStoryVideoUploadQE()?_(o(t)):(_(r(d[12]).updateCreationError(new Error(r(d[13]).NOT_SUPPORTED_MEDIA_TEXT))),_(r(d[12]).updateCreationDialogStatus('error')))}},e.storyCreationSelectImage=n,e.storyCreationSelectVideo=o,e.uploadStory=function(n,o){return(_,E)=>{_({type:r(d[0]).STORY_CREATION_UPLOAD_REQUESTED,uploadedBlob:n}),i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_UPLOAD_START);let R=E();const O=R.storyCreation.activeText.renderText.join('\n');return r(d[6]).logStoryCreationEvent(t('compose_stage_attempt',R)),i(d[14])(r(d[21]).fbUploaderPhoto(n).then(n=>{i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_UPLOAD_STAGE_SUCCESS);const o=n.upload_id;return _({type:r(d[0]).STORY_CREATION_UPLOAD_STAGED,uploadId:o}),R=E(),r(d[6]).logStoryCreationEvent(t('compose_finalize_attempt',R)),r(d[21]).creationFinalizeStory(o,O).then(n=>{i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_STORY_CREATION_SUCCESS),i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),r(d[6]).logStoryCreationEvent(t('compose',R)),_({type:r(d[0]).STORY_CREATION_UPLOAD_SUCCEEDED,toast:{text:r(d[4]).PHOTO_ADDED_TEXT,persistOnNavigate:!0},uploadId:o}),_(T())}).catch(t=>{throw i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_FINALIZE_FAILED),t})}).catch(n=>{i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_STORY_CREATION_FAILED),o||i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),r(d[6]).logStoryCreationEvent(t('compose_failure',R)),_({type:r(d[0]).STORY_CREATION_UPLOAD_FAILED,toast:{text:r(d[4]).UPLOAD_FAILED_TEXT,persistOnNavigate:!0,actionText:o&&r(d[22]).RETRY_TEXT,actionHandler:o}}),n instanceof Error?(n.name='[StoryCreation] '+n.name,r(d[17]).logError(n)):i(d[18])('[StoryCreation] error in uploading story')}))}},e.uploadStoryVideo=function(){return(t,n)=>{const{sourceVideo:o,coverPhoto:T}=n().storyCreation,E=i(d[8])(o).uploadId;return t({type:r(d[0]).STORY_CREATION_VIDEO_UPLOAD_REQUESTED}),i(d[14])(r(d[21]).ruploadVideo(o).then(()=>r(d[21]).ruploadPhoto(T)).then(()=>t(_(E))).catch(n=>{r(d[15]).browserHistory.push('/'),t(r(d[23]).setNavSelection('NAVIGATION_SECTION_HOME')),t({type:r(d[0]).STORY_CREATION_UPLOAD_FAILED,toast:{text:r(d[4]).UPLOAD_FAILED_TEXT,persistOnNavigate:!0}})}))}},e.refreshStoryReelAndNavigateToFeed=T,e.changeActiveText=function(t,n,o){return{type:r(d[0]).STORY_CREATION_CHANGE_TEXT,rawText:t,width:n,height:o}},e.enterAddText=function(){return{type:r(d[0]).STORY_CREATION_ENTER_ADD_TEXT}},e.enterEditText=function(){return{type:r(d[0]).STORY_CREATION_ENTER_EDIT_TEXT}},e.saveText=function(t,n){return{type:r(d[0]).STORY_CREATION_SAVE_TEXT,renderText:t,timeSpent:n}},e.transformCanvasSticker=function(t,n){return{type:r(d[0]).STORY_CREATION_TRANSFORM_CANVAS_STICKER,stillMoving:t,transform:n}},e.deleteCanvasSticker=function(){return{type:r(d[0]).STORY_CREATION_DELETE_CANVAS_STICKER}},e.moveCanvasSticker=function(t,n,o){return{type:r(d[0]).STORY_CREATION_MOVE_CANVAS_STICKER,deltaX:t,deltaY:n,overTrash:o}},e.changeBrush=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_ACTIVE_BRUSH,brush:t}},e.changeBrushSize=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_BRUSH_SIZE,size:t}},e.changeColor=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_COLOR,color:t}},e.changeDrawColor=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_DRAW_COLOR,color:t}},e.editDrawing=function(){return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DOODLE_ENTER),{type:r(d[0]).STORY_CREATION_EDIT_DRAWING}},e.startDrawing=function(t){return{type:r(d[0]).STORY_CREATION_START_DRAWING,startIndex:t}},e.drawLineAction=function(t){return{type:r(d[0]).STORY_CREATION_DRAW_LINE,line:t}},e.useModal=function(t){return{type:r(d[0]).STORY_CREATION_USE_MODAL,isUsingModal:t}},e.undoDrawing=function(){return{type:r(d[0]).STORY_CREATION_UNDO_DRAWING}},e.saveDrawing=function(t){return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DOODLE_EXIT),{type:r(d[0]).STORY_CREATION_SAVE_DRAWING,timeSpent:t}},e.openStickerTool=function(){return{type:r(d[0]).STORY_CREATION_OPEN_STICKER_TOOL}},e.closeStickerTool=function(){return{type:r(d[0]).STORY_CREATION_CLOSE_STICKER_TOOL}},e.changeStickerOrder=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_STICKER_ORDER,bumpIndex:t}},e.addSticker=function(t){return{type:r(d[0]).STORY_CREATION_ADD_STICKER,sticker:t}},e.cacheStickerResults=function(){return(t,n)=>{const o=r(d[25]).getViewer(n());return r(d[7]).getPosition().then(n=>{const _={latitude:n.coords.latitude,longitude:n.coords.longitude};return i(d[14])(r(d[21]).getStickers({user:o,location:_}).then(n=>{const o=R(n.static_stickers);t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:n.static_stickers.slice(o)})},n=>{t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:E})}))},n=>i(d[14])(r(d[21]).getStickers({user:o,location:null}).then(n=>{const o=R(n.static_stickers);t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:n.static_stickers.slice(o)})},n=>{t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:E})})))}},e.resetStickerResults=function(){return(t,n)=>new Promise((n,o)=>(t({type:r(d[0]).STORY_CREATION_RESET_STICKER_RESULTS}),n({})))},e.saveStory=function(){return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_SAVE),{type:r(d[0]).STORY_CREATION_SAVE_STORY}},e.attemptExitStoryCreation=function(){return(n,o)=>{r(d[6]).logStoryCreationEvent(t('exit_attempt',o())),i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DISCARD_CONFIRMATION),n({type:r(d[0]).STORY_CREATION_EXIT_ATTEMPT})}},e.exitStoryCreation=function(){return(n,o)=>{r(d[6]).logStoryCreationEvent(t('exit',o())),i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),n({type:r(d[0]).STORY_CREATION_EXIT})}},e.cancelExitStoryCreation=function(){return(n,o)=>{r(d[6]).logStoryCreationEvent(t('exit_cancel',o())),i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DISCARD_CANCEL),n({type:r(d[0]).STORY_CREATION_EXIT_CANCEL})}},e.toggleStickerVariant=function(){return{type:r(d[0]).STORY_CREATION_TOGGLE_STICKER_VARIANT}}},6422535,[13238309,13435391,6422536,13435270,6422530,13500445,6422537,13238908,13500444,13435125,3932187,13435039,3932182,13435562,13434974,13435296,13434940,13434971,13434970,13435128,3932188,13435066,13435272,13435305,13435588,13435258]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const T=r(d[0])(3476),_=r(d[0])(1603),E=r(d[0])(3960),O=r(d[0])(739),I=r(d[0])(617),R=r(d[0])(724),A=r(d[0])(2763),D=r(d[0])(3033),N=r(d[0])(513),X=r(d[0])(1779),C=r(d[0])(548),S=r(d[0])(2808),Y=r(d[0])(1570),P=r(d[0])(1006),L=r(d[0])(1995),F=r(d[0])(362),M=r(d[0])(1277),t=r(d[0])(4045),c=r(d[0])(3581),n=r(d[0])(2877),o=r(d[0])(2530);e.EXIT_STORY_CREATION_CONFIRM_TITLE=T,e.EXIT_STORY_CREATION_CONFIRM_TEXT=_,e.EXIT_STORY_VIDEO_CREATION_CONFIRM_TITLE=E,e.EXIT_STORY_VIDEO_CREATION_CONFIRM_TEXT=O,e.EXIT_STORY_CREATION_DISCARD_TEXT=I,e.EXIT_STORY_CREATION_KEEP_TEXT=R,e.EXIT_STORY_CREATION_KEEP_MEDIA_TEXT=A,e.STORY_LANDSCAPE_WARNING_TEXT=D,e.STORY_LANDSCAPE_WARNING_TEXT_EDITING=N,e.TAP_FOR_MORE=X,e.CANNOT_LOAD_STICKERS=C,e.CHECK_CONNECTION=S,e.RETRY=Y,e.ADD_TO_STORY_TEXT=P,e.PHOTO_ADDED_TEXT=L,e.VIDEO_ADDED_TEXT=F,e.UPLOAD_FAILED_TEXT=M,e.PHOTO_ADDED_TEXT_NEW=t,e.UPLOAD_FAILED_TEXT_NEW=c,e.YOUR_STORY_TEXT=n,e.SEND_TO_TEXT=o},6422530,[13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={event_name:'reel_creation_waterfall',library_upload_count:1,library_media_available:1,media_type:'1',source:'library',has_flash:!1,camera_position:null,capture_type:'normal',text_edit_count:0,text_edit_duration:0,tool_toggle_count:0,duration:0,color_toggle_count:0,save_media_count:0,has_text:!1,has_brush:!1,sticker_ids:[],sticker_toggle_count:0,has_sticker:!1};e.STORY_CREATION_EXIT_POINT={POST:1,EXIT:2,UNKNOWN:-1},e.logStoryCreationEvent=function(_){switch(_.step){case'enter':case'image_process_attempt':case'image_process_success':case'image_process_failure':return void r(d[0]).logPigeonEvent(r(d[1]).createEvent('instagram_web_story_creation',r(d[0]).getExtra({..._,event_name:'reel_creation_waterfall'})));case'compose_stage_attempt':case'compose_finalize_attempt':case'compose_failure':case'compose':case'exit_attempt':case'exit_cancel':case'exit':return void r(d[0]).logPigeonEvent(r(d[1]).createEvent('instagram_web_story_creation',r(d[0]).getExtra({...t,..._})))}}},6422537,[13434982,13434967]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.IG_WEB_NUX_FUNNEL='IG_WEB_NUX_FUNNEL',e.NUX_FUNNEL_FACEBOOK_INTERSTITIAL='fb_interstitial',e.NUX_FUNNEL_PROFILE_PIC_INTERSTITIAL='prof_pic_interstitial',e.NUX_FUNNEL_IMPORT_CONTACTS_INTERSTITIAL='contacts_interstitial',e.NUX_FUNNEL_ADD_PHONE_NUMBER_INTERSTITIAL='phone_num_interstitial',e.NUX_FUNNEL_EMPTY_FEED_WITH_SU='empty_feed_with_su',e.NUX_FUNNEL_EMPTY_FEED_WITHOUT_SU='empty_feed_without_su',e.NUX_FUNNEL_FEED='feed',e.NUX_FUNNEL_DISCOVER_PEOPLE='discover_people'},6881285,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o={photo:1,video:2,carousel:8},t={containermodule:'feed_timeline',delivery_class:'organic',hashtag_follow_status:'following',inventory_source:'follow_hashtag_story',is_id:!1,device_os:'Web'};e.logImpression=function(n){const{followHashtagInfo:s}=n,l=!0===n.isSidecar?'carousel':!0===n.isVideo?'video':'photo',_={...r(d[0]).getExtra(),...t,event_name:'impression',hashtag_id:null===s||void 0===s?void 0:s.id,hashtag_name:null===s||void 0===s?void 0:s.name,m_pk:n.id,media_type:o[l],media_type_name:l,deviceid:r(d[1]).getDeviceOrMachineId(),device_model:r(d[2]).getBrowserString(),primary_locale:r(d[3]).getLocale()};r(d[0]).logPigeonEvent(r(d[4]).createEvent('instagram_organic_impression',_,{module:'feed_timeline'}))}},7667723,[13434982,13434968,13434887,13434885,13434967]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const n=a(d[3]).lazy(()=>r(d[2])(d[1],"FeedSidebarContainer")),t=function(){return a(d[3]).createElement("div",{className:"wAANn"},a(d[3]).createElement(r(d[4]).Spinner,{position:"absolute",size:"small"}))},o=r(d[6]).displayDoneBlocking('FeedSidebarContainerModule',function(o){return a(d[3]).createElement(i(d[5]),{loadingRenderer:a(d[3]).createElement(t,null)},a(d[3]).createElement(n,{onDisplayDone:o.onDisplayDone}))});e.preloadModule=function(){r(d[2])(d[1],"FeedSidebarContainer")},e.FeedSidebarContainerLoader=o},7667724,[7667725,7471104,68,3,13500463,13500750,13500646]);
__d(function() {},7667725,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.default={changeEmail:'#change-email',changePhone:'#change-phone',confirmEmail:'#confirm-email',confirmPhone:'#confirm-phone',importContacts:'#import-contacts',openGDPRDialog:'#consent',openGDPRFullscreen:'#open-GDPR-fullscreen',openGDPRMegaphone:'#open-gdpr',sharePhoto:'#share-photo',survey:'#survey',turnOnDataSaver:'#data-saver-on'}},7667726,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=1e4;var o=r(d[10]).connect(null,function(t){return{onNextButtonClick(){t(r(d[7]).syncProfilePic(i(d[8]).regInterstitialPage)),t(r(d[9]).showToast({text:r(d[7]).PROFILE_PIC_ADDED_TOAST_MESSAGE,persistOnNavigate:!0}))}}},null,{forwardRef:!0})(class extends a(d[1]).Component{constructor(...t){super(...t),this.handleSelectButtonClick=(t=>{this.$ProfilePicAdder2&&this.$ProfilePicAdder2.handleEditProfilePic(t)}),this.handleNextButtonClick=(t=>{this.props.onNextButtonClick(),this.props.onHideClick()})}componentDidUpdate(o){o.profilePicUploadIsInFlight&&!this.props.profilePicUploadIsInFlight&&(o.onHideClick(),this.$ProfilePicAdder1=setTimeout(()=>{this.$ProfilePicAdder2&&this.$ProfilePicAdder2.handleCloseEditProfilePicMenu()},t))}componentWillUnmount(){clearTimeout(this.$ProfilePicAdder1)}$ProfilePicAdder3(){return this.$ProfilePicAdder4()?a(d[1]).createElement("div",{className:"iOyYw",key:"profile_pic"},a(d[1]).createElement("img",{alt:"",className:"_7YDdj",src:this.props.profilePictureUrl})):a(d[1]).createElement(r(d[2]).BorderedIcon,{alt:r(d[3])(2960),icon:r(d[2]).ICONS.USER_OUTLINE_24_GREY9,size:r(d[2]).CORE_CONSTANTS.AVATAR_SIZES.large})}$ProfilePicAdder4(){return!!this.props.profilePictureUrl}$ProfilePicAdder5(){if(null==this.props.secondaryButtonText||''===this.props.secondaryButtonText)return null;const t=null==this.props.profilePictureUrl||''===this.props.profilePictureUrl?this.props.onSecondaryButtonClick:this.handleSelectButtonClick;return a(d[1]).createElement("button",{className:this.props.secondaryButtonClass,onClick:t},this.props.secondaryButtonText)}render(){return a(d[1]).createElement("section",{className:this.props.className},a(d[1]).createElement(i(d[4]),{bodyText:null!=this.props.bodyText&&''!==this.props.bodyText?this.props.bodyText:r(d[3])(28),buttonText:this.$ProfilePicAdder4()?r(d[3])(2777):r(d[3])(2803),headerText:void 0!==this.props.headerText&&''!==this.props.headerText?this.props.headerText:r(d[3])(1437),icon:this.$ProfilePicAdder3(),isProcessing:this.props.profilePicUploadIsInFlight,onButtonClick:this.$ProfilePicAdder4()?this.handleNextButtonClick:this.handleSelectButtonClick}),a(d[1]).createElement(i(d[5]),{analyticsContext:this.props.analyticsContext,hasExistingPic:this.$ProfilePicAdder4(),ref:t=>this.$ProfilePicAdder2=t,skipEditMenu:!!i(d[6])._("8df26d8baf4eb30273425c3150fba6a0","d71f5281d23877fb16e51afe6fa0db15")}),this.$ProfilePicAdder5())}});e.default=o},7667727,[7667728,3,13500463,13434940,4653182,4653064,13435040,13435262,13435120,13435270,5]);
__d(function() {},7667728,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=t=>a(d[1]).createElement("section",{className:i(d[2])("ABCxa",t.className)},a(d[1]).createElement("div",{className:"JErX0"},a(d[1]).createElement("div",{className:"ig3mj"},t.icon),a(d[1]).createElement("div",{className:"olLwo"},t.headerText),a(d[1]).createElement("div",{className:"f5C5x"},t.bodyText),!t.hideAction&&a(d[1]).createElement(r(d[3]).Button,{disabled:t.buttonDisabled,loading:t.isProcessing,onClick:t.onButtonClick},t.buttonText),t.footer));t.defaultProps={hideAction:!1};var c=t;e.default=c},4653182,[4653183,3,13500468,13500463]);
__d(function() {},4653183,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var o=r(d[18]).connect(function(o){var t,n,l,s;return{showLoadingModal:null!=o.creation.sessionId&&''!==o.creation.sessionId&&o.creation.creationMode===r(d[13]).CreationMode.PROFILE_PIC_POST_UPSELL,isConfirmDialogOpen:null===(t=o.users.setProfilePicState)||void 0===t?void 0:t.showConfirmDialog,showProfilePicFirstPostUpsell:o.users.showProfilePicFirstPostUpsell,uploadedProfilePicBlob:o.users.profilePicBlob,setProfilePicBlob:null===(n=o.users.setProfilePicState)||void 0===n?void 0:n.blob,setProfilePicSource:null===(l=o.users.setProfilePicState)||void 0===l?void 0:l.source,setProfilePicType:null===(s=o.users.setProfilePicState)||void 0===s?void 0:s.type}},function(o){return{onShowChangeProfilePicConfirmDialog(t,n,l){o(r(d[14]).showChangeProfilePicConfirmDialog(t,n,l))},onSetProfilePicCreation(t){o(r(d[15]).trackEntrypoint()),o(r(d[16]).creationSelectImage(t))},onSetProfilePic(t,n,l,s){o(r(d[14]).setProfilePic(t,n,l,s))},onRemoveProfilePic(t){o(r(d[14]).removeProfilePic(t))},onStartCreation(){o(r(d[16]).startCreationSession('profile_pic',r(d[13]).CreationMode.PROFILE_PIC))},onStartCreationWithConfirmDialog(t){o(r(d[16]).startCreationSession('profile_pic',r(d[13]).CreationMode.PROFILE_PIC,t))},onDismissChangeProfilePicConfirmDialog(){o(r(d[14]).dismissChangeProfilePicConfirmDialog())},onProfilePicPostUpsellConfirmed(t){o(r(d[16]).startCreationSesssionFromProfilePic(t))},onProfilePicPostUpsellDismissedAction(){o(r(d[14]).dismissProfilePicPostUpsell())},onProfilePicFormError(){o(r(d[17]).showToast({text:r(d[6]).IMAGE_FORM_ERROR}))}}},null,{forwardRef:!0})(class extends a(d[5]).Component{constructor(...o){super(...o),this.state={confirmedProfilePicChange:!1,isEditProfilePicMenuOpen:!1,isRemoveProfilePicDialogOpen:!1},this.handleConfirmProfilePicChange=(()=>{var o;this.props.onDismissChangeProfilePicConfirmDialog(),i(d[0]).logRemindersEvent({event:'reminder_confirm',type:'change_profile_picture_first_time'}),this.props.onSetProfilePic(i(d[1])(this.props.setProfilePicBlob),i(d[1])(this.props.setProfilePicSource),i(d[1])(this.props.setProfilePicType),null!==(o=this.props.skipPostUpsell)&&void 0!==o&&o),this.setState({confirmedProfilePicChange:!0})}),this.handleCancelProfilePicChange=(()=>{this.props.onDismissChangeProfilePicConfirmDialog(),i(d[0]).logRemindersEvent({event:'reminder_cancel',type:'change_profile_picture_first_time'})}),this.handleFileChange=(o=>{if(o.length>0){var t;const l=!this.state.confirmedProfilePicChange&&((null===(t=this.props.profilePicEditSyncProps)||void 0===t?void 0:t.showChangeProfilePicConfirmDialog)||!1);if(r(d[2]).isMobile())this.props.onStartCreationWithConfirmDialog(l),this.props.onSetProfilePicCreation(o[0]);else{const t=null!=this.props.analyticsContext&&''!==this.props.analyticsContext?this.props.analyticsContext:'unknown';if(l)this.props.onShowChangeProfilePicConfirmDialog(o[0],t,"upload");else{var n;this.props.onSetProfilePic(o[0],t,"upload",null!==(n=this.props.skipPostUpsell)&&void 0!==n&&n)}}this.setState({isEditProfilePicMenuOpen:!1})}}),this.handleTakeImage=(o=>{var t;this.props.onSetProfilePic(o,null!=this.props.analyticsContext&&''!==this.props.analyticsContext?this.props.analyticsContext:'unknown','capture',null!==(t=this.props.skipPostUpsell)&&void 0!==t&&t)}),this.onUpload=(o=>{this.$ProfilePicEdit1?(this.$ProfilePicEdit1.selectFile(),o.preventDefault()):i(d[3])(!1,"Clicking Upload shouldn't be possible when image is not editable")}),this.handleRemoveClick=(o=>{var t;!0===(null===(t=this.props.profilePicEditSyncProps)||void 0===t?void 0:t.showProfilePicSyncReminders)?(i(d[0]).logRemindersEvent({event:'reminder_shown',type:'remove_profile_picture'}),this.setState({isEditProfilePicMenuOpen:!1,isRemoveProfilePicDialogOpen:!0})):(this.props.onRemoveProfilePic(null!=this.props.analyticsContext&&''!==this.props.analyticsContext?this.props.analyticsContext:'unknown'),this.setState({isEditProfilePicMenuOpen:!1})),o.preventDefault()}),this.handleConfirmRemoveProfilePicDialog=(()=>{i(d[0]).logRemindersEvent({event:'reminder_confirm',type:'remove_profile_picture'}),this.props.onRemoveProfilePic(null!=this.props.analyticsContext&&''!==this.props.analyticsContext?this.props.analyticsContext:'unknown'),this.handleCloseRemoveProfilePicDialog()}),this.handleCloseRemoveProfilePicDialog=(()=>{i(d[0]).logRemindersEvent({event:'reminder_cancel',type:'remove_profile_picture'}),this.setState({isRemoveProfilePicDialogOpen:!1})}),this.handleConfirmProfilePicPostUpsell=(()=>{this.props.uploadedProfilePicBlob||i(d[4])(0),this.props.onProfilePicPostUpsellConfirmed(this.props.uploadedProfilePicBlob)}),this.handleCloseEditProfilePicMenu=(()=>{var o;!0===(null===(o=this.props.profilePicEditSyncProps)||void 0===o?void 0:o.showProfilePicSyncReminders)&&i(d[0]).logRemindersEvent({event:'reminder_cancel',type:'edit_photo_reminder'}),this.setState({isEditProfilePicMenuOpen:!1})}),this.handleEditProfilePic=(o=>{var t;!0===(null===(t=this.props.profilePicEditSyncProps)||void 0===t?void 0:t.showProfilePicSyncReminders)||!0===this.props.hasExistingPic&&!0!==this.props.skipEditMenu?(this.setState({isEditProfilePicMenuOpen:!0}),o.preventDefault()):this.onUpload(o)})}$ProfilePicEdit2(){return a(d[5]).createElement(r(d[6]).ImageFileForm,{acceptMimeTypes:['image/jpeg','image/png'],onFileChange:this.handleFileChange,ref:o=>this.$ProfilePicEdit1=o})}render(){var o,t,n,l,s,c,P,p,h,f,v,C,u,S,E,y,D,R,_;const{hasExistingPic:x,profilePicEditSyncProps:A,profilePictureUrl:I}=this.props,w=null===(o=this.props.profilePicEditSyncProps)||void 0===o?void 0:o.removeProfilePicCancelCTA,M=null===(t=this.props.profilePicEditSyncProps)||void 0===t?void 0:t.removeProfilePicConfirmCTA,U=null===(n=this.props.profilePicEditSyncProps)||void 0===n?void 0:n.removeProfilePicHeader,b=null===(l=this.props.profilePicEditSyncProps)||void 0===l?void 0:l.removeProfilePicSubtext,T=null===(s=this.props.profilePicEditSyncProps)||void 0===s?void 0:s.changeProfilePicActionsScreenHeader,O=null===(c=this.props.profilePicEditSyncProps)||void 0===c?void 0:c.changeProfilePicActionsScreenSubheader,k=null===(P=this.props.profilePicEditSyncProps)||void 0===P?void 0:P.changeProfilePicActionsScreenUploadCTA,F=null===(p=this.props.profilePicEditSyncProps)||void 0===p?void 0:p.changeProfilePicActionsScreenRemoveCTA,B=null===(h=this.props.profilePicEditSyncProps)||void 0===h?void 0:h.changeProfilePicActionsScreenCancelCTA;return a(d[5]).createElement("div",null,this.props.showLoadingModal&&a(d[5]).createElement(i(d[7]),null),this.state.isEditProfilePicMenuOpen?a(d[5]).createElement(i(d[8]),{changeProfilePicActionsScreenCancelCTA:B,changeProfilePicActionsScreenHeader:T,changeProfilePicActionsScreenRemoveCTA:F,changeProfilePicActionsScreenSubheader:O,changeProfilePicActionsScreenUploadCTA:k,hasExistingPic:!!x,isBCI:null===A||void 0===A?void 0:A.isBCI,onClose:this.handleCloseEditProfilePicMenu,onRemoveClick:this.handleRemoveClick,onTakeImage:this.handleTakeImage,onUploadClick:this.onUpload,profilePictureUrl:I,showProfilePicSyncReminders:!0===(null===A||void 0===A?void 0:A.showProfilePicSyncReminders),syncReminderIdentityID:null!==(f=null===A||void 0===A?void 0:A.identityID)&&void 0!==f?f:''},this.$ProfilePicEdit2()):this.$ProfilePicEdit2(),this.props.showProfilePicFirstPostUpsell&&this.props.uploadedProfilePicBlob&&a(d[5]).createElement(i(d[9]),{body:r(d[10])(3048),confirmLabel:r(d[10])(1280),onClose:this.props.onProfilePicPostUpsellDismissedAction,onConfirm:this.handleConfirmProfilePicPostUpsell,title:r(d[10])(952)}),!0===this.props.isConfirmDialogOpen&&a(d[5]).createElement(i(d[11]),{identityID:null!==(v=null===A||void 0===A?void 0:A.identityID)&&void 0!==v?v:'',onClose:this.handleCancelProfilePicChange,onConfirm:this.handleConfirmProfilePicChange,shouldShowManageSyncSettings:(null===(C=null===(u=this.props.profilePicEditSyncProps)||void 0===u?void 0:u.changeProfilePicConfirmDialogShowManagedSettings)||void 0===C||C)&&!1===(null===(S=this.props.profilePicEditSyncProps)||void 0===S?void 0:S.isBCI),textCancelCTA:null===(E=this.props.profilePicEditSyncProps)||void 0===E?void 0:E.changeProfilePicCancelCTA,textConfirmCTA:null===(y=this.props.profilePicEditSyncProps)||void 0===y?void 0:y.changeProfilePicConfirmCTA,textHeader:null===(D=this.props.profilePicEditSyncProps)||void 0===D?void 0:D.changeProfilePicHeader,textSubtext:null===(R=this.props.profilePicEditSyncProps)||void 0===R?void 0:R.changeProfilePicSubtext}),this.state.isRemoveProfilePicDialogOpen&&null!=w&&null!=M&&null!=U&&null!=b&&a(d[5]).createElement(i(d[12]),{identityID:null!==(_=null===A||void 0===A?void 0:A.identityID)&&void 0!==_?_:'',isBCI:null===A||void 0===A?void 0:A.isBCI,onClose:this.handleCloseRemoveProfilePicDialog,onConfirm:this.handleConfirmRemoveProfilePicDialog,textCancelCTA:w,textConfirmCTA:M,textHeader:U,textSubtext:b}))}});e.default=o},4653064,[13435273,13500444,13434887,13435130,3276909,3,3407881,4653065,4653067,13500725,13434940,4653070,4653071,13500459,13435262,13435305,3932182,13435270,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=r(d[1])(1800);var l=({className:l,sharingText:s})=>a(d[2]).createElement("div",{className:"_3CLaK"},a(d[2]).createElement(i(d[3]),{className:i(d[4])("QA6oo",l)}),a(d[2]).createElement(i(d[5]),{title:null!=s&&''!==s.toString()?s:t}));e.default=l},4653065,[4653066,13434940,3,13500718,13500468,13500720]);
__d(function() {},4653066,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t({header:t,pictureUrl:n,subheader:o}){return a(d[1]).createElement("div",{className:"qIGFT"},a(d[1]).createElement("div",{className:"rG9ub"},a(d[1]).createElement(i(d[2]),{editable:!1,src:n})),a(d[1]).createElement("div",{className:"_4vF-A"},a(d[1]).createElement(i(d[3]).Title,{textAlign:"center",zeroMargin:!0},t)),a(d[1]).createElement(i(d[3]).Body,{color:"ig-secondary-text"},o))}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var n=class extends a(d[1]).Component{constructor(t){super(t),this.$EditProfilePicMenu1=(t=>{!0===this.props.showProfilePicSyncReminders&&i(d[4]).logRemindersEvent({event:'reminder_confirm',type:'edit_photo_reminder'}),this.props.onUploadClick(t)})}componentDidMount(){!0===this.props.showProfilePicSyncReminders&&(!0===this.props.isBCI?i(d[4]).logRemindersEvent({event:'reminder_shown',type:'biz_change_photo'}):i(d[4]).logRemindersEvent({event:'reminder_shown',type:'edit_photo_reminder'}))}render(){const{changeProfilePicActionsScreenCancelCTA:n,changeProfilePicActionsScreenHeader:o,changeProfilePicActionsScreenRemoveCTA:c,changeProfilePicActionsScreenSubheader:s,changeProfilePicActionsScreenUploadCTA:l,isBCI:p,profilePictureUrl:h,showProfilePicSyncReminders:P,syncReminderIdentityID:u=""}=this.props,E=!0===P&&null!=h;return a(d[1]).createElement(r(d[5]).Dialog,i(d[6])({onModalClose:this.props.onClose},E?{media:a(d[1]).createElement(t,{header:i(d[7])(o),pictureUrl:i(d[7])(h),subheader:i(d[7])(s)})}:{title:o}),a(d[1]).createElement(r(d[5]).DialogItem,{color:"ig-primary-button",onClick:this.$EditProfilePicMenu1},i(d[7])(l)),!1===p&&!0===P&&a(d[1]).createElement(i(d[8]),{identityID:u,resource:"PROFILE_PHOTO"}),this.props.hasExistingPic&&a(d[1]).createElement(r(d[5]).DialogItem,{color:"ig-error-or-destructive",onClick:this.props.onRemoveClick},i(d[7])(c)),a(d[1]).createElement(r(d[5]).DialogItem,{onClick:this.props.onClose},i(d[7])(n)),this.props.children)}};e.default=n},4653067,[4653068,3,4653062,13500488,13435273,13500463,13435345,13500444,4653069]);
__d(function() {},4653068,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=class extends a(d[5]).PureComponent{constructor(t){super(t),this.$EditableUserAvatar1=(t=>{this.$EditableUserAvatar2&&this.$EditableUserAvatar2.handleEditProfilePic(t)}),i(d[1])(null!=t.analyticsContext&&''!==t.analyticsContext||!t.editable,'EditableUserAvatar marked as editable, but no analytics context provided')}render(){const{className:t,editable:s,isSilhouette:l,isUploading:n,src:c}=this.props,o=i(d[2])("M-jxE",t);let E=null;return E=!0===l?r(d[3])(81):s?r(d[4]).CHANGE_PROFILE_PICTURE:r(d[3])(2870),a(d[5]).createElement("div",{className:o},a(d[5]).createElement("button",{className:`IalUJ ${n?"LyH8g":""}`,disabled:n,onClick:this.$EditableUserAvatar1,title:E},a(d[5]).createElement("img",{alt:E,className:"be6sR",src:c})),!0===n&&a(d[5]).createElement(r(d[6]).Spinner,{position:"absolute"}),s&&a(d[5]).createElement(i(d[7]),{analyticsContext:this.props.analyticsContext,hasExistingPic:!l,profilePicEditSyncProps:this.props.profilePicEditSyncProps,profilePictureUrl:c,ref:t=>this.$EditableUserAvatar2=t}))}};e.default=t},4653062,[4653063,13435130,13500468,13434940,13500687,3,13500463,4653064]);
__d(function() {},4653063,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({identityID:t,resource:n}){const u=r(d[0]).useHistory();return a(d[1]).createElement(r(d[2]).DialogItem,{onClick:()=>u.push(r(d[3]).appendQueryParams(r(d[4]).FX_ACCOUNTS_CENTER_PROFILES_PATH,{identity:t,resource:n}))},r(d[5])(2226))}},4653069,[6,3,13500463,13435093,13435123,13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return null!=t?t:r(d[0])(786)}function n(t){return null!=t?t:r(d[0])(786)}function o(t){return null!=t?t:r(d[0])(932)}function l(t){return null!=t?t:r(d[0])(233)}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({identityID:u,onClose:c,onConfirm:f,shouldShowManageSyncSettings:s=!0,textCancelCTA:C,textConfirmCTA:_,textHeader:y,textSubtext:E}){const b=r(d[1]).useRef(!1);return r(d[1]).useEffect(()=>{!1===b.current&&(b.current=!0,i(d[2]).logRemindersEvent({event:'reminder_shown',type:'biz_edit_photo'}))},[]),a(d[1]).createElement(r(d[3]).Dialog,{body:n(E),onModalClose:c,title:t(y)},a(d[1]).createElement(r(d[3]).DialogItem,{color:"ig-primary-button",onClick:f},o(_)),s?a(d[1]).createElement(i(d[4]),{identityID:u,resource:"PROFILE_PHOTO"}):null,a(d[1]).createElement(r(d[3]).DialogItem,{onClick:c},l(C)))}},4653070,[13434940,3,13435273,13500463,4653069]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({identityID:t,isBCI:o,onClose:n,onConfirm:l,textCancelCTA:c,textConfirmCTA:s,textHeader:u,textSubtext:C}){return r(d[0]).useEffect(()=>{!0===o&&i(d[1]).logRemindersEvent({event:'reminder_shown',type:'biz_remove_photo'})},[o]),a(d[0]).createElement(r(d[2]).Dialog,{body:C,onModalClose:n,title:u},a(d[0]).createElement(r(d[2]).DialogItem,{color:"ig-error-or-destructive",onClick:l},s),!1===o&&a(d[0]).createElement(i(d[3]),{identityID:t,resource:"PROFILE_PHOTO"}),a(d[0]).createElement(r(d[2]).DialogItem,{onClick:n},c))}},4653071,[3,13435273,13500463,4653069]);
__d(function(g,r,i,a,m,e,d){"use strict";function s(n,t=null){return n.sidecarChildren&&n.sidecarChildren.length?s(n.sidecarChildren[0]):!0===n.isVideo?null:null!=n.src&&''!==n.src&&n.displayResources?{type:r(d[0]).PREFETCHED_IMAGE,id:n.id,src:n.src,srcSet:n.displayResources,intrinsicDimensions:i(d[1])(n.dimensions)}:null}Object.defineProperty(e,'__esModule',{value:!0});const n=[];var t=r(d[4]).connect(function(t,l){const c=l.getResourceFromPost||s,o=r(d[2]).getCurrentReel(t),u=t.stories.currentReelItemIndex;return{currentPostId:null!=o&&null!=o.itemIds?o.itemIds[u]:null,enabled:null==l.viewKey||!!t.mediaPrefetches.isEnabledForView.get(l.viewKey),resources:(l.postIds||n).map(s=>c(r(d[3]).getPostById(t,s),o)).filter(Boolean)}})(r(d[0]).MediaPrefetcher);e.default=t},3801276,[3801205,13500444,13435045,3801128,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t='PREFETCHED_IMAGE',s=new Set,c=new Set,n=new Set,o=[],h=1e4;class l extends a(d[3]).Component{constructor(...t){super(...t),this.state={next:null},this.$MediaPrefetcher4=(t=>s.has(t)||c.has(t)),this.$MediaPrefetcher1=(()=>{if(null==this.props.postIds)return!1;for(const t of this.props.resources)if(!this.$MediaPrefetcher4(t.id))return!1;return!0}),this.$MediaPrefetcher3=(()=>{const{next:t}=this.state;if(null!=t&&!n.has(t.id)){const c=setTimeout(()=>{s.has(t.id)||this.$MediaPrefetcher5(t.id)},h);n.add(t.id),o.push(c)}}),this.$MediaPrefetcher2=(()=>{this.props.resources.length>0&&(r(d[1]).logAction_DEPRECATED('mediaPrefetchComplete',{successCount:s.size,timeoutCount:c.size,eligibleResourceCount:this.props.resources.length,viewKey:this.props.viewKey}),i(d[2]).incr('web.media_prefetch.complete')),null!=this.props.onLoadComplete&&this.props.onLoadComplete()}),this.$MediaPrefetcher5=(t=>{r(d[1]).logAction_DEPRECATED('mediaPrefetchTimedOut',{resource:this.state.next}),i(d[2]).incr('web.media_prefetch.timeout'),c.add(t),n.delete(t),this.setState(l.prefetchNext(this.props)),this.$MediaPrefetcher1()&&this.$MediaPrefetcher2()}),this.$MediaPrefetcher6=(()=>{const t=this.state.next;null!=t&&(r(d[1]).logAction_DEPRECATED('mediaPrefetchSuccess',{resource:this.state.next}),i(d[2]).incr('web.media_prefetch.success'),s.add(t.id),this.setState(l.prefetchNext(this.props))),this.$MediaPrefetcher1()&&this.$MediaPrefetcher2()})}static getDerivedStateFromProps(t){return l.prefetchNext(t)}componentDidMount(){this.$MediaPrefetcher1()?this.$MediaPrefetcher2():this.$MediaPrefetcher3()}componentDidUpdate(){this.$MediaPrefetcher3()}componentWillUnmount(){n.clear(),c.clear();for(const t of o)clearTimeout(t);o.length=0}shouldComponentUpdate(t,s){return this.props.enabled!==t.enabled||this.state.next!==s.next}static prefetchNext(t){const{resources:n,enabled:o}=t;if(!o)return null;for(const t of n)if(!s.has(t.id)&&!c.has(t.id))return{next:t};return{next:null}}render(){const{currentPostId:s,enabled:c,layoutWrapper:n}=this.props,{next:o}=this.state;if(null==o||!c)return null;const h=!this.$MediaPrefetcher4(o.id)&&(null==s||null!=s&&s!==o.id)&&(o.type===t?a(d[3]).createElement(i(d[4]),{className:"ZIm78",key:o.src,onError:this.$MediaPrefetcher6,onLoad:this.$MediaPrefetcher6,src:o.src,srcSet:o.srcSet}):a(d[3]).createElement(i(d[5]),{className:"ZIm78",key:o.src,onError:this.$MediaPrefetcher6,onLoaded:this.$MediaPrefetcher6,preloadOnly:!0,sources:o.srcSet}));return a(d[3]).createElement(n,{resource:o},h)}}l.defaultProps={enabled:!0,layoutWrapper:({children:t})=>t},e.PREFETCHED_IMAGE=t,e.PREFETCHED_VIDEO='PREFETCHED_VIDEO',e.TIMEOUT_DURATION=h,e.MediaPrefetcher=l,e._resetState=function(){s.clear(),n.clear(),c.clear()}},3801205,[3801206,13434982,13434963,3,3801201,3801203]);
__d(function() {},3801206,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var s=i(d[10])(i(d[11])(i(d[12])(function(s,o){const t=s.sources,n=o.sources;if(t===n)return!1;if(t.length!==n.length)return!0;for(let s=0;s<t.length;++s)if(t[s].src!==n[s].src)return!0;return!1})(class extends a(d[4]).PureComponent{constructor(s){super(s),this.$ResponsiveVideo4=(s=>{this.$ResponsiveVideo2=s,this.props.videoRef&&this.props.videoRef(s)}),this.state={width:null}}$ResponsiveVideo1(){return i(d[0])(this.$ResponsiveVideo2).getBoundingClientRect().width}$ResponsiveVideo3(){return this.$ResponsiveVideo1()*(window.devicePixelRatio||1)}$ResponsiveVideo5(s,o,t){return null==s?o:this.props.downgradeVideoResolution?o.configWidth<s.configWidth?o:s:s.configWidth<t&&o.configWidth>s.configWidth?o:o.configWidth>t&&o.configWidth<=s.configWidth?o:s}$ResponsiveVideo6(s){let o=null,t=null;const n=[];for(const l of this.props.sources)switch(l.profile){case r(d[1]).PROFILE_MAIN:o=this.$ResponsiveVideo5(o,l,s);break;case r(d[1]).PROFILE_BASELINE:t=this.$ResponsiveVideo5(t,l,s);break;default:i(d[2])('got video candidate without a supported profile: '+String(l.profile)),n.push(l)}return[...null!=o?[o]:[],...null!=t?[t]:[],...n]}componentDidMount(){a(d[3]).measure(()=>{if(this.$ResponsiveVideo7)return;const s=this.$ResponsiveVideo3();a(d[3]).mutate(()=>{this.$ResponsiveVideo7||this.setState({width:s})})})}componentWillUnmount(){this.$ResponsiveVideo7=!0}render(){const{width:s}=this.state,{autoPlay:o,className:t,downgradeImageResolution:n,downgradeVideoResolution:l,forwardedRef:c,imageResolution:u,isDataSaverMode:p,preloadOnly:h,sources:f,style:R,toggleDataSaverConfig:v,videoRef:V,...$}=this.props,w=Object.freeze({...$,...null!=o?{autoPlay:o}:{}});if(null==s)return a(d[4]).createElement("video",{className:t,crossOrigin:i(d[5])(),ref:this.$ResponsiveVideo4,style:R});if(h){const{onError:o,onLoaded:t}=this.props,n=this.$ResponsiveVideo6(s);return null!=o&&null!=t&&a(d[4]).createElement(i(d[6]),{onError:o,onLoaded:t,src:n[0].src,timeout:r(d[7]).TIMEOUT_DURATION})}return!0===o&&r(d[8]).isBrowser('Safari >= 15')?a(d[4]).createElement("video",i(d[9])({className:t,crossOrigin:i(d[5])(),ref:c||this.$ResponsiveVideo4,style:R},w,{src:this.$ResponsiveVideo6(s)[0].src})):a(d[4]).createElement("video",i(d[9])({className:t,crossOrigin:i(d[5])(),ref:c||this.$ResponsiveVideo4,style:R},w),this.$ResponsiveVideo6(s).map((s,o)=>a(d[4]).createElement("source",{key:o,src:s.src,type:s.mimeType})))}})));e.default=s},3801203,[13500444,13435175,13434970,13435116,3,13435361,3801204,3801205,13434887,13435345,13435372,3801202,13500806]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=t=>{const[o]=r(d[0]).useState(()=>new XMLHttpRequest);r(d[0]).useEffect(()=>{const{onError:n,onLoaded:u,onTimeout:s,src:l,timeout:c}=t;return o.open('GET',l,!0),o.responseType='blob',o.onload=(t=>{200===o.status?u():n()}),null!=s&&(o.ontimeout=s),o.timeout=1e3*c,o.send(),()=>{o.abort()}},[t,o])};var o=o=>(t(o),null);e.default=o},3801204,[3]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const O={addFirstPhoto:"addFirstPhoto",addPhone:"addPhone",connectToFacebook:"connectToFacebook",editProfile:"editProfile",editProfilePhoto:"editProfilePhoto"},o={bodyText:a(d[0]).FIRST_PHOTO_BODY,buttonText:a(d[0]).FIRST_PHOTO_CTA,headerText:a(d[0]).FIRST_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[0]).FIRST_PHOTO_BODY},t={bodyText:a(d[0]).PHONE_BODY,buttonText:a(d[0]).PHONE_CTA,headerText:a(d[0]).PHONE_HEADER,icon:r(d[1]).ICONS.CALL_OUTLINE_24_GREY9,iconAlt:a(d[0]).PHONE_BODY},_={bodyText:a(d[0]).FACEBOOK_BODY,buttonText:a(d[0]).FACEBOOK_CTA,headerText:a(d[0]).FACEBOOK_HEADER,icon:r(d[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,iconAlt:a(d[0]).FACEBOOK_BODY},E={bodyText:a(d[0]).EDIT_PROFILE_BODY,buttonText:a(d[0]).EDIT_PROFILE_CTA,headerText:a(d[0]).EDIT_PROFILE_HEADER,icon:r(d[1]).ICONS.USER_OUTLINE_24_GREY9,iconAlt:a(d[0]).EDIT_PROFILE_BODY},T={bodyText:a(d[0]).PROFILE_PHOTO_BODY,buttonText:a(d[0]).PROFILE_PHOTO_CTA,headerText:a(d[0]).PROFILE_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[0]).PROFILE_PHOTO_BODY},P={[O.addFirstPhoto]:o,[O.addPhone]:t,[O.connectToFacebook]:_,[O.editProfile]:E,[O.editProfilePhoto]:T};e.KEYS=O,e.MODULES={emptyFeed:"emptyFeed",feed:"feed",profile:"profile"},e.KEY_UNIT_MAPPING=P},7667729,[3932179,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const O=r(d[0])(3488),E=r(d[0])(3438),_=r(d[0])(4181),T=r(d[0])(105),P=r(d[0])(209),D=r(d[0])(1834),R=r(d[0])(3986),A=r(d[0])(1285),H=r(d[0])(3828),I=r(d[0])(3537),F=r(d[0])(3711),C=r(d[0])(868),L=r(d[0])(2210),B=r(d[0])(2677),t=r(d[0])(3907),N=r(d[0])(1846),Y=r(d[0])(3874),c=r(d[0])(3838),n=r(d[0])(1381);e.GETTING_STARTED=O,e.FIRST_PHOTO_HEADER=E,e.FIRST_PHOTO_BODY=_,e.FIRST_PHOTO_CTA=T,e.FACEBOOK_BODY=P,e.FACEBOOK_COMPLETED=D,e.FACEBOOK_CTA=R,e.FACEBOOK_HEADER=A,e.PROFILE_PHOTO_BODY=H,e.PROFILE_PHOTO_CTA=I,e.PROFILE_PHOTO_HEADER=F,e.PHONE_BODY=C,e.PHONE_COMPLETED=L,e.PHONE_CTA=B,e.PHONE_HEADER=t,e.EDIT_PROFILE_BODY=N,e.EDIT_PROFILE_COMPLETED=Y,e.EDIT_PROFILE_CTA=c,e.EDIT_PROFILE_HEADER=n},3932179,[13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createAsyncComponent({resolve:()=>r(d[2])(d[1],"SuggestedUserFeedUnitContainer")}),s=r(d[0]).createAsyncComponent({resolve:()=>r(d[2])(d[3],"InFeedStoryTray")});var n=class extends a(d[6]).PureComponent{constructor(...n){super(...n),this.$VirtualFeed1=(({index:n,isVisible:o,visibleIndex:l})=>{var p,c;const{analyticsContext:u,itemClassName:h,items:I,onPostImpression:E}=this.props,_=I.get(n);if(null==_)return i(d[4])(`no item at index=${n}, size=${I.size}`),null;switch(_.type){case r(d[5]).GRAPH_IMAGE:case r(d[5]).GRAPH_VIDEO:case r(d[5]).GRAPH_SIDECAR:return a(d[6]).createElement(i(d[7]),{analyticsContext:u,autoplay:r(d[8]).hasAutoplayEnabledOnFeed({silent:!0}),className:h,id:_.postId,isVisible:o,key:_.postId,onImpression:E,Options:[],position:n,variant:r(d[9]).VARIANTS.feed,visiblePosition:l});case r(d[5]).GRAPH_SUGGESTED_USER_FEED_UNIT:return a(d[6]).createElement(t,{className:h,key:n,position:n,trackingToken:_.trackingInfo.token,type:_.trackingInfo.type,userIds:_.userIds,variant:this.props.variant});case r(d[5]).GRAPH_STORIES_IN_FEED_ITEM:return a(d[6]).createElement(s,{className:h,filteringTag:_.filteringTag,hideUnitIfSeen:_.hideUnitIfSeen,key:null!==(p=_.trackingToken)&&void 0!==p?p:'feed_stories',reelIds:_.reelIds,title:null!==(c=_.title)&&void 0!==c?c:r(d[10]).STORIES_TRAY_IN_FEED_UNIT_TITLE});default:return i(d[4])(`unexpected feed item type: ${_.type}`),null}})}render(){return a(d[6]).createElement(i(d[11]),{allowSampledScrollLogging:this.props.allowSampledScrollLogging,analyticsContext:this.props.analyticsContext,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,items:this.props.items,onNextPage:this.props.onNextPage,prefetchNextPageThreshold:this.props.prefetchNextPageThreshold,renderFeedItem:this.$VirtualFeed1,visibleCount:this.props.visibleCount})}};e.default=n},7667730,[13500727,7536640,68,7602176,13434970,13434996,3,13239022,13435039,13239026,3801166,13238993]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=class extends a(d[1]).PureComponent{render(){return a(d[1]).createElement("div",{className:"_4RgfU"},a(d[1]).createElement("div",{className:"SpHho"},r(d[2]).ZERO_FREE_BANNER))}};e.default=t},7667731,[7667732,3,13238470]);
__d(function() {},7667732,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){const{edgeVapidPush:t,notifications:o,serviceWorker:n}=r(d[0]).getSupportedFeatures();return!r(d[1]).isLegacyEdgePWA()&&(!t||r(d[0]).hasVapid())&&r(d[2]).canUseDOM&&o&&n&&!r(d[3]).needsToConfirmCookies()&&!r(d[3]).shouldUsePrivacyFlowTrigger()&&window.Notification&&window.Notification.permission===r(d[4]).NOTIFICATION_PERMISSION.default&&!r(d[5]).isDismissed(r(d[5]).NOTIFICIATIONS_TYPE)&&!s()}function s(){return r(d[5]).isSessionDismissedHelper(r(d[5]).NOTIFICIATIONS_SESSIONS_TYPE)}Object.defineProperty(e,'__esModule',{value:!0});var o=class extends a(d[9]).PureComponent{constructor(...s){super(...s),this.state={showModal:!1},this.$NotificationsScreen1=(()=>{t()&&setTimeout(()=>{this.setState({showModal:!0},()=>{i(d[6])._("2194d568bd419828bb76b0e0c9744e16")||r(d[7]).logAction_DEPRECATED('notificationsNuxShown'),i(d[8]).incr('web.notifications.notifications_nux_shown')})},0)}),this.$NotificationsScreen2=(()=>{this.setState({showModal:!1})}),this.onAction=(t=>{r(d[0]).initalizePush('upsell'),this.$NotificationsScreen2()}),this.onClose=(t=>{this.$NotificationsScreen2(),i(d[6])._("2194d568bd419828bb76b0e0c9744e16")||r(d[7]).logAction_DEPRECATED('notificationsNuxDismissed'),i(d[8]).incr('web.notifications.notifications_nux_dismissed'),r(d[5]).setDismissSessionEntryHelper(r(d[5]).NOTIFICIATIONS_SESSIONS_TYPE)})}componentDidMount(){this.$NotificationsScreen1()}render(){return this.state.showModal?a(d[9]).createElement(i(d[10]),{onAction:this.onAction,onClose:this.onClose}):null}};e.default=o},7667733,[13435518,13434887,3276911,13434885,13435519,13435497,13434937,13434982,13434963,3,7667734]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createElement("img",{alt:"",height:"76px",src:"/static/images/ico/xxhdpi_launcher.png/99cf3909d459.png",width:"76px"});var n=class extends a(d[0]).PureComponent{render(){const n=a(d[0]).createElement(r(d[1]).DialogCircleMedia,{icon:t});return a(d[0]).createElement(r(d[1]).Dialog,{body:a(d[2]).NOTIFICATIONS_MODAL_PARAGRAPH,media:n,title:a(d[2]).NOTIFICATIONS_MODAL_TITLE},a(d[0]).createElement(r(d[1]).DialogItem,{color:"ig-primary-button",onClick:this.props.onAction},a(d[2]).NOTIFICATIONS_MODAL_ACTION),a(d[0]).createElement(r(d[1]).DialogItem,{onClick:this.props.onClose},a(d[2]).NOTIFICATIONS_MODAL_SECONDARY_ACTION))}};e.default=n},7667734,[3,13500463,7667735]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const O=r(d[0])(1208),I=r(d[0])(1564),A=r(d[0])(3027),_=r(d[0])(3762);e.NOTIFICATIONS_MODAL_PARAGRAPH=O,e.NOTIFICATIONS_MODAL_TITLE=I,e.NOTIFICATIONS_MODAL_ACTION=A,e.NOTIFICATIONS_MODAL_SECONDARY_ACTION=_},7667735,[13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createElement("img",{alt:"",height:"76px",src:"/static/images/ico/xxhdpi_launcher.png/99cf3909d459.png",width:"76px"});class o extends a(d[0]).PureComponent{render(){const o=a(d[0]).createElement(r(d[1]).DialogCircleMedia,{icon:t});return a(d[0]).createElement(r(d[1]).Dialog,{body:a(d[2]).A2HS_MODAL_PARAGRAPH,media:o,title:a(d[2]).A2HS_MODAL_TITLE},a(d[0]).createElement(r(d[1]).DialogItem,{color:"ig-primary-button",onClick:this.props.onAction},a(d[2]).A2HS_MODAL_ACTION_TITLE),a(d[0]).createElement(r(d[1]).DialogItem,{onClick:this.props.onClose},r(d[3]).CANCEL_TEXT))}}e.AddToHomeScreenModalUI=o,e.AddToHomeScreenModal=(()=>a(d[0]).createElement(r(d[4]).AddToHomeScreenContainer,{addToHomeScreenUI:o}))},3932226,[3,13500463,3932227,13435272,3932228]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const _=r(d[0])(2411),A=r(d[0])(474),t=r(d[0])(757);e.A2HS_MODAL_PARAGRAPH=_,e.A2HS_MODAL_TITLE=A,e.A2HS_MODAL_ACTION_TITLE=t},3932227,[13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({children:t}){const[u,n]=r(d[0]).useAutoplayReducer();return a(d[1]).createElement(r(d[2]).AutoplayDispatchContext.Provider,{value:n},a(d[1]).createElement(r(d[3]).AutoplayStateContext.Provider,{value:u},t))}},7667736,[7667737,3,13239073,13239075]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useAutoplayReducer=function(){const u={currentlyPlaying:null,forcePausedVideos:new(r(d[0]).Set),visibleVideos:new(r(d[0]).Map)};return r(d[1]).useReducer(r(d[2]).AutoplayReducer,u)}},7667737,[2,3,7667738]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const s={visibleVideos:new(r(d[0]).Map),forcePausedVideos:new(r(d[0]).Set),currentlyPlaying:null};e.INITIAL_STATE=s,e.AutoplayReducer=function(t=s,n){switch(n.type){case r(d[1]).AUTOPLAY_VIDEO_ENTERED:{const s=t.visibleVideos.set(n.id,n.snapshot);return{...t,visibleVideos:s,currentlyPlaying:r(d[2]).selectCurrentlyPlayingVideo(s,t.forcePausedVideos)}}case r(d[1]).AUTOPLAY_VIDEO_EXITED:{const s=t.visibleVideos.delete(n.id);return{...t,visibleVideos:s,currentlyPlaying:r(d[2]).selectCurrentlyPlayingVideo(s,t.forcePausedVideos)}}case r(d[1]).AUTOPLAY_VIDEO_UPDATED:{if(!t.visibleVideos.has(n.id))return t;const s=t.visibleVideos.set(n.id,n.snapshot);return{...t,visibleVideos:t.visibleVideos.set(n.id,n.snapshot),currentlyPlaying:r(d[2]).selectCurrentlyPlayingVideo(s,t.forcePausedVideos)}}case r(d[1]).AUTOPLAY_VIDEO_CLICKED_PLAY:return{...t,currentlyPlaying:n.id,forcePausedVideos:t.forcePausedVideos.delete(n.id)};case r(d[1]).AUTOPLAY_VIDEO_CLICKED_PAUSE:{const s=t.forcePausedVideos.add(n.id);return{...t,currentlyPlaying:r(d[2]).selectCurrentlyPlayingVideo(t.visibleVideos,s),forcePausedVideos:s}}default:return t}}},7667738,[2,13239074,13239070]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({children:c}){const[t,n]=r(d[0]).useState(!1),u=r(d[1]).useDispatch();return r(d[1]).useSelector(r(d[2]).isFeedCached)&&!t&&!0===i(d[5])._("5ccf3c37ef206d394c322fe366bd8319")?a(d[0]).createElement(i(d[6]),{onError:()=>{n(!0),u(r(d[3]).revertCache()),i(d[4]).incr('web.feed.cache_error')}},c):c}},7667739,[3,5,13435295,13435245,13434963,13434937,13500751]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=r(d[4]).connect(function(t){return{actionNode:t.uploadProgress.actionNode,progress:t.uploadProgress.progress,text:t.uploadProgress.text,status:t.uploadProgress.status,thumbnailURL:t.uploadProgress.thumbnailURL}})(class extends a(d[1]).PureComponent{constructor(...t){super(...t),this.$UploadProgressBar1=(()=>a(d[1]).createElement(r(d[2]).Box,{alignItems:"center",direction:"row",flex:"grow",paddingX:2},a(d[1]).createElement("div",{className:"AbEQm"},a(d[1]).createElement("div",{className:"Taqwd",style:{width:`${this.props.progress}%`}})),a(d[1]).createElement(r(d[2]).Box,{marginStart:2,width:36},a(d[1]).createElement("div",{className:"kuHp8"},`${this.props.progress}%`)))),this.$UploadProgressBar2=(()=>{const{actionNode:t,text:s}=this.props;return a(d[1]).createElement("div",{className:"o5gub"},a(d[1]).createElement(r(d[2]).Box,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"between"},a(d[1]).createElement(r(d[2]).Text.BodyEmphasized,{display:"inline"},s),null!==t&&a(d[1]).createElement(r(d[2]).Box,{marginStart:1},t)))})}render(){const{thumbnailURL:t,status:s}=this.props;return a(d[1]).createElement("div",{className:"TExId"},null!=t&&''!==t&&a(d[1]).createElement(r(d[2]).Box,{marginEnd:2},a(d[1]).createElement(i(d[3]),{isSquare:!0,isVideo:!0,src:t})),'uploading'===s?this.$UploadProgressBar1():this.$UploadProgressBar2())}});e.default=t},7667740,[7667741,3,13500463,6356998,5]);
__d(function() {},7667741,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=({src:t,isVideo:c=!1,isSquare:l=!1})=>a(d[1]).createElement("div",{className:`g5kp1 ${l?"_JTHj":""}`},a(d[1]).createElement("img",{alt:r(d[2])(923),className:"FuaTR",src:t}),c&&a(d[1]).createElement("div",{className:"cRc_w"},a(d[1]).createElement(i(d[3]),null)));e.default=t},6356998,[6356999,3,13434940,13239191]);
__d(function() {},6356999,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t){const s=r(d[0]).useSelector(t=>r(d[1]).getSeenCountInStoryTray(t)),o=r(d[0]).useDispatch(),n=r(d[0]).useSelector(t=>({broadcasts:r(d[2]).getBroadcastStoryTrayItems(t),dataFetchStatus:t.feed.extrasDataFetchStatus,feedFilter:r(d[3]).getFeedFilter(t),hasOwnReel:r(d[1]).userHasReel(t,i(d[4])(t.users.viewerId)),hasSeenZeroNUX:!!t.zero.nuxPreference.story,isFullySeen:r(d[1]).getIsFullySeen(t),loadingId:t.stories.trayLoadingId,newReelCount:t.stories.feedTray&&t.stories.feedTray.count()-i(d[4])(s),reels:r(d[1]).getFeedStoryTrayWithoutOwn(t),seenReelCount:s,storyPrefetchFinished:t.feed.storyPrefetchComplete,traySession:t.stories.traySession,viewerId:t.users.viewerId,viewportWidth:t.displayProperties.viewportWidth}),r(d[0]).shallowEqual);return a(d[8]).createElement(r(d[9]).StoryTray,i(d[10])({},t,n,{onLoadReel:(t,s,n)=>{o(r(d[5]).openReelsMedia(t,'reel_feed_timeline',s,n))},onStoryItemScrollEnter:(t,s)=>{o(r(d[5]).loadReelsMediaForTray(s,t,{batchSize:15,fetchDistance:5}))},onUpdateZeroNUXPreference:()=>{o(r(d[6]).updateZeroNUXPreference(r(d[7]).ZeroNUXMedia.story))}}))}},7667742,[5,13435045,13435579,13435310,13500444,13435588,13239051,13434957,3,7667743,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=4,s=5,o=80,n=80,l=10,y=500,h=4,_=10;const p=r(d[25]).displayDoneBlocking('StoryTray',i(d[26])(class extends a(d[11]).PureComponent{constructor(...t){super(...t),this.state={isZeroBannerEligible:r(d[1]).isZeroRatingSlimEligible(),leftVisibleItem:-1,rightVisibleItem:-1},this.didLogComponentLoad=!1,this.didLogStoryTrayLoad=!1,this.$_StoryTray2=(()=>{const{dataFetchStatus:t}=this.props,s=t!==r(d[2]).EXTRAS_DATA_FETCH_STATUS.loaded;this.didLogComponentLoad||s?!this.didLogStoryTrayLoad&&s&&(r(d[3]).StoryTrayLoadPerformanceLogger.onStoryTrayLoadSuccess(),this.didLogStoryTrayLoad=!0):(r(d[3]).StoryTrayLoadPerformanceLogger.onTrayComponentLoad({hasCaching:r(d[4]).hasStoriesCaching()}),this.didLogComponentLoad=!0)}),this.$_StoryTray3=((t,s)=>{this.props.onLoadReel(i(d[5])(this.props.reels),t,s)}),this.$_StoryTray4=((t,s)=>{const o=this.props.reels?this.props.reels.get(s-1):null;i(d[6]).log(()=>({a_pk:Number(t),is_new_reel:this.props.isFullySeen(null===o||void 0===o?void 0:o.id)?0:1,has_my_reel:i(d[5])(this.props.hasOwnReel)?1:0,new_reel_count:i(d[5])(this.props.newReelCount),pigeon_reserved_keyword_module:'reel_feed_timeline',reel_type:r(d[7]).getTypeForLogging(null===o||void 0===o?void 0:o.type),tray_position:s,tray_session_id:this.props.traySession,viewed_reel_count:i(d[5])(this.props.seenReelCount)}));const n={containermodule:'reel_feed_timeline',event_name:'reel_tray_impression',has_my_reel:i(d[5])(this.props.hasOwnReel),ig_userid:this.props.viewerId,media_author:t,new_reel_count:i(d[5])(this.props.newReelCount),source_of_action:'reel_feed_timeline',tray_position:s,tray_session_id:this.props.traySession,viewed_reel_count:i(d[5])(this.props.seenReelCount)};!0===(null===o||void 0===o?void 0:o.isCloseFriends)&&(n.action='close_friends_story_ring_impression'),r(d[7]).logStoriesEvent_DEPRECATED(n)}),this.$_StoryTray5=((t,s)=>{i(d[6]).log(()=>({a_pk:Number(t.broadcast_owner),is_new_reel:0,has_my_reel:i(d[5])(this.props.hasOwnReel)?1:0,new_reel_count:i(d[5])(this.props.newReelCount),pigeon_reserved_keyword_module:'reel_feed_timeline',reel_type:r(d[8]).getReelTypeForLogging(t),tray_position:s,tray_session_id:this.props.traySession,viewed_reel_count:i(d[5])(this.props.seenReelCount)}))}),this.$_StoryTray6=(()=>{const t=this.props.broadcasts.size;return 0!==t&&r(d[9]).isDesktop()&&r(d[10]).hasLiveInStories()?t:0}),this.$_StoryTray7=(()=>0!==this.props.broadcasts.size&&r(d[9]).isDesktop()&&r(d[10]).hasLiveInStories()?this.props.broadcasts.sort((t,s)=>((null===t||void 0===t?void 0:t.ranked_position)||0)-((null===s||void 0===s?void 0:s.ranked_position)||0)).toList():null),this.$_StoryTray8=(({index:t,isVisible:s})=>{const n=this.$_StoryTray7(),l=this.$_StoryTray6(),y=this.$_StoryTray9()?1:0,h={isVisible:s,isZeroBannerEligible:this.state.isZeroBannerEligible,onClick:this.$_StoryTray3,onScrollEnter:this.$_StoryTray4,trayPosition:t,onUpdateZeroNUXPreference:this.props.onUpdateZeroNUXPreference,hasSeenZeroNUX:this.props.hasSeenZeroNUX};let _,p;if(t<y)_=a(d[11]).createElement(i(d[12]),i(d[13])({hasOwnReel:this.props.hasOwnReel,viewerId:this.props.viewerId},h));else if(t<l+y&&null!=n){const o=t-y,l=n.get(o);_=null!=l&&a(d[11]).createElement(i(d[14]),{broadcast:l,isVisible:s,onScrollEnter:this.$_StoryTray5,trayPosition:t})}else{const s=t-l-y,o=i(d[5])(this.props.reels);p=i(d[5])(o.get(s)),_=a(d[11]).createElement(i(d[15]),i(d[13])({reel:p},h))}return a(d[11]).createElement("div",{className:"Fd_fQ",key:p?p.id:t,style:!r(d[9]).isDesktop()&&r(d[4]).hasStoriesCaching()?{transform:`translateX(${t*o}px)`}:void 0},_)}),this.$_StoryTray9=(()=>!!r(d[9]).isMobile()||(!0!==this.props.hideOwnStory||!r(d[9]).isDesktop())&&!!this.props.hasOwnReel),this.$_StoryTray10=(()=>{const{reels:t}=this.props,s=this.$_StoryTray9()?1:0,o=this.$_StoryTray6();return(null!=t?t.count():0)+s+o}),this.$_StoryTray11=(()=>this.props.dataFetchStatus===r(d[2]).EXTRAS_DATA_FETCH_STATUS.loading),this.$_StoryTray12=(()=>{const{reels:t,seenReelCount:s}=this.props;return t&&-1!==s&&t.count()-s>0}),this.$_StoryTray13=(t=>{const{leftPct:s,rightPct:o}=t,{leftVisibleItem:n,rightVisibleItem:l}=this.state,y=Math.floor(s),h=Math.ceil(o);n===y&&l===h||this.setState({leftVisibleItem:y,rightVisibleItem:h})}),this.$_StoryTray14=((t,s)=>{const o=this.$_StoryTray10();return Array.from(Array(o),(o,n)=>this.$_StoryTray8({index:n,isVisible:n>=t&&n<=s}))})}componentDidMount(){this.$_StoryTray1(),this.$_StoryTray2()}componentDidUpdate(){this.$_StoryTray1(),this.$_StoryTray2()}$_StoryTray1(){null!=this.props.reels&&this.props.onDisplayDone()}render(){const{feedFilter:p,reels:c,viewportWidth:S}=this.props,{leftVisibleItem:u,rightVisibleItem:T}=this.state,$=this.$_StoryTray11(),b=this.$_StoryTray10(),E=this.$_StoryTray12(),v=Math.max(l,Math.ceil(S/o)),f=r(d[9]).isDesktop()?a(d[11]).createElement(i(d[16]),{animationDuration:y,autoScrollOnFocus:!1,disableScrollSnap:!0,gutterWidth:_,itemWidth:n,onVisibilityChange:this.$_StoryTray13,overscan:s,pagerVariant:"stories",pageSize:h},this.$_StoryTray14(u,T)):a(d[11]).createElement(i(d[17]),{className:`qf6s4 ${r(d[4]).hasStoriesCaching()?"lGuO0":""}`,containerSize:"auto",direction:"horizontal",estimatedItemSize:o,initialRenderCount:v,itemCount:b,overscanCount:t,renderer:this.$_StoryTray8}),C=a(d[11]).createElement("div",{className:`ku8Bn ${null==c?"p2GVa":""}`},f);return a(d[11]).createElement(a(d[11]).Fragment,null,(r(d[9]).isDesktop()&&b>0||r(d[9]).isMobile()||null==c)&&a(d[11]).createElement(i(d[18]),null,$&&a(d[11]).createElement("div",{className:`u6s6p ${$?"":"UZmR1"}`},$&&a(d[11]).createElement(r(d[19]).Box,{alignItems:"center",direction:"row",justifyContent:"center"},a(d[11]).createElement(r(d[19]).Spinner,null))),null==c?a(d[11]).createElement(i(d[20]),null):C),r(d[9]).isMobile()&&!0===E&&a(d[11]).createElement("div",{className:"RN9GI"},a(d[11]).createElement(i(d[21]),{anchor:a(d[22]).QP_TOOLTIP_ANCHORS.story_tray_item,filter:p,slot:a(d[22]).SLOTS.feed,trigger:a(d[22]).TRIGGERS.instagram_feed_tool_tip})),i(d[23])._("bed369d8cb9072d1ae8b7a9289ce9b01")&&a(d[11]).createElement(r(d[24]).HeroHoldTrigger,{description:"StoryTray",hold:null==c}))}}));e.MOBILE_TRAY_COL_WIDTH=o,e.StoryTray=p},7667743,[7667744,13434957,13435149,13435282,13435039,13500444,7471111,13435260,13435583,13434887,13435576,3,7667745,13435345,7667753,7667747,13239056,13500620,7667754,13500463,7667756,13500822,13435311,13434937,13435386,13500646,3801202]);
__d(function() {},7667744,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o={pigeon:!1,falco:!0};e.default=class{static log(t){i(d[0])._("156afcae976343d13e119d3e5bd6b5aa")&&r(d[1]).FalcoLogger.log('reel_tray_impression',t(),{},o)}}},7471111,[13434937,13434942]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=r(d[20]).connect(function(t,n){const l=r(d[16]).getUserById(t,n.viewerId);return{isAppUpsellLoggedInSheetOpen:t.upsell.isAppUpsellLoggedInSheetOpen,profilePictureUrl:l.profilePictureUrl,reel:r(d[17]).getReel(t,n.viewerId)}},function(t){return{openAppUpsellLoggedInSheet(n){t(r(d[18]).openAppUpsellLoggedInSheet(n))},onOpenReel(n,l,o){t(r(d[19]).openReel(n,l,o))}}})(class extends a(d[7]).Component{constructor(...t){super(...t),this.$OwnStoryTrayItem1=(()=>{r(d[1]).isMobile()&&(r(d[2]).isDismissed(r(d[2]).USE_THE_APP_LI_SHEET)||!0!==i(d[3])._("6e5d85cb48b33b7d214bae2b7617853c","af069090f87d0afc94dca34ec07d2b87",{silent:!0})?i(d[5])(this.$OwnStoryTrayItem2).handleStoryCreationClick():this.props.openAppUpsellLoggedInSheet(i(d[4]).StoryCreationPage))}),this.$OwnStoryTrayItem3=((t,n)=>{this.props.onOpenReel(t,n,'reel_feed_timeline')})}render(){const{hasOwnReel:t,profilePictureUrl:n,...l}=this.props;if(!0===t){const{isAppUpsellLoggedInSheetOpen:t,onOpenReel:n,openAppUpsellLoggedInSheet:o,reel:s,viewerId:p,...c}=l;return null!=s||i(d[6])(0),a(d[7]).createElement(i(d[8]),i(d[9])({},c,{onClick:this.$OwnStoryTrayItem3,reel:s}))}return a(d[7]).createElement("button",{className:"JdY43",onClick:this.$OwnStoryTrayItem1},a(d[7]).createElement(i(d[10]),{className:"ctM9u",isLink:!1,profilePictureUrl:n,size:56}),this.props.isAppUpsellLoggedInSheetOpen&&!0===i(d[3])._("6e5d85cb48b33b7d214bae2b7617853c","af069090f87d0afc94dca34ec07d2b87",{silent:!0})?a(d[7]).createElement(i(d[11]),{pageID:i(d[4]).StoryCreationPage}):i(d[3])._l("6e5d85cb48b33b7d214bae2b7617853c"),a(d[7]).createElement("div",{className:"XdXBI"},r(d[12]).YOUR_STORY_TEXT),a(d[7]).createElement("div",{className:"TiuNS"},a(d[7]).createElement(i(d[13]),{alt:r(d[14])(2378),color:"ig-primary-button",size:16})),a(d[7]).createElement(i(d[15]),{entryPoint:"your_story_placeholder",ref:t=>this.$OwnStoryTrayItem2=t}))}});e.default=t},7667745,[7667746,13434887,13435497,13435040,13435120,13500444,3276909,3,7667747,13435345,13500510,7667750,3801166,7667751,13434940,7667722,13435258,13435045,13435502,13435588,5]);
__d(function() {},7667746,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});let t=0;var s=r(d[9]).connect(function(t,s){const o=r(d[7]).getUserById(t,i(d[1])(s.reel.userId));return{isMuted:s.reel.muted,isSeen:r(d[8]).isReelSeen(s.reel),isViewer:t.users.viewerId===s.reel.id,profilePictureUrl:i(d[1])(o.profilePictureUrl),username:i(d[1])(o.username)}})(class extends a(d[3]).PureComponent{constructor(...s){super(...s),this.state={isZeroNuxOpen:!1},this.$StoryTrayItem1=i(d[0])(s=>`StoryTrayItem_${t++}`),this.$StoryTrayItem3=(()=>{!0===this.props.isZeroBannerEligible?this.showZeroNuxOrPlay():this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))}),this.$StoryTrayItem2=(()=>{this.props.onScrollEnter(i(d[1])(this.props.reel.userId),this.props.trayPosition)}),this.$StoryTrayItem4=(t=>{t&&t.stopPropagation(),this.setState({isZeroNuxOpen:!1})}),this.$StoryTrayItem5=(t=>{t.stopPropagation();const{onUpdateZeroNUXPreference:s}=this.props;s&&s(),this.setState({isZeroNuxOpen:!1}),this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))}),this.showZeroNuxOrPlay=(()=>{!0!==this.props.hasSeenZeroNUX?this.setState({isZeroNuxOpen:!0}):this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))})}componentDidMount(){this.props.isVisible&&this.$StoryTrayItem2()}componentDidUpdate(t){!t.isVisible&&this.props.isVisible&&this.$StoryTrayItem2()}render(){const{isMuted:t,isSeen:s,isViewer:o,profilePictureUrl:p,username:n}=this.props,l=o?r(d[2]).YOUR_STORY_TEXT:n;let h=null;return!0===this.props.isZeroBannerEligible&&this.state.isZeroNuxOpen&&(h=a(d[3]).createElement(i(d[4]),{mediaKeyword:r(d[5]).ZeroNUXMedia.story,onAction:this.$StoryTrayItem5,onClose:this.$StoryTrayItem4,profilePictureUrl:p})),a(d[3]).createElement(r(d[6]).StoryTrayItemBase,{clickTargetElementId:this.$StoryTrayItem1(this.props.reel.id),isMuted:t||!1,isSeen:s,label:l,nux:h,onClick:this.$StoryTrayItem3,profilePictureUrl:p,username:this.props.username})}});e.default=s},7667747,[13434995,13500444,3801166,3,7602181,13434957,7667748,13435258,13435045,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);const n=66,t=!1,c=64,s=r(d[2])(408),l=r(d[2])(633);e.default=function(u){const{profilePictureUrl:o}=u;r(d[3]).useEffect(()=>{r(d[4]).logZeroEvent({event_name:'nux_impression'})},[]);const f={nuxTitle:l,nuxAction:s,nuxIcon:a(d[3]).createElement("div",{className:"TFHq6"},a(d[3]).createElement(i(d[5]),{className:"_0zJgH",seen:t,size:c}),null!=o&&''!==o&&a(d[3]).createElement(i(d[6]),{isLink:!1,profilePictureUrl:o,size:n})),nuxIcon2:a(d[3]).createElement("div",{className:"coreSpriteSpinstaNux"})};return a(d[3]).createElement(i(d[7]),i(d[8])({nuxContent:f},u))}},7602181,[13500534,7602182,13434940,3,13434982,13500780,13500510,13239067,13435345]);
__d(function() {},7602182,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.StoryTrayItemBase=function({clickTargetElementId:t,isLive:l,isMuted:n,isSeen:s,label:c,nux:o,onClick:u,profilePictureUrl:y,username:_}){const b=s?r(d[1]).seenStoryTrayItemAriaLabel(_):r(d[1]).unseenStoryTrayItemAriaLabel(_);return a(d[2]).createElement("button",{"aria-label":b,className:`OE3OK ${n?"MLQJX":""}`,onClick:u,role:"menuitem",tabIndex:"0"},a(d[2]).createElement(i(d[3]),{className:"QN629",clickTargetElementId:t,isClickable:!1,isLink:!1,profilePictureUrl:y,showLiveBadge:!0===l,showLivePulse:!0===l,showLiveRing:!0===l,size:r(d[4]).STORY_TRAY_AVATAR_SIZE,storyEntrypoint:"reel_feed_timeline",username:_}),a(d[2]).createElement("div",{className:`eebAO ${s?"puCyQ":""} ${r(d[5]).isDesktop()?"h_uhZ":""}`},c),o)}},7667748,[7667749,3801336,3,13500776,13500785,13434887]);
__d(function() {},7667749,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.directReplyPlaceholder=(t=>r(d[0])(1579,{username:t})),e.unseenStoryTrayItemAriaLabel=(t=>r(d[0])(3603,{username:t})),e.seenStoryTrayItemAriaLabel=(t=>r(d[0])(639,{username:t}))},3801336,[13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t='logged_in_sheet';var o=o=>{const{pageID:n}=o,[s,l]=a(d[0]).useState(!1),_=r(d[1]).isIgLiteCarbonUpsellsEligible(),{android:c,ios:E,originalPath:p}=r(d[2]).useSelector(t=>r(d[3]).getDeepLink(t)),I=r(d[2]).useDispatch(),[T,b]=a(d[0]).useState(r(d[4]).isDismissed(r(d[4]).USE_THE_APP_LI_SHEET)),{DirectInboxPage:u,StoryCreationPage:A}=i(d[5]),P=a(d[0]).useCallback(()=>{switch(n){case u:return{title:a(d[6]).APP_HIGH_INTENTION_DIRECT_TITLE,body:_?a(d[6]).INSTAGRAM_LITE_CARBON_APP_HIGH_INTENTION_DIRECT_BODY:a(d[6]).APP_HIGH_INTENTION_DIRECT_BODY};case A:return{title:a(d[6]).APP_HIGH_INTENTION_STORIES_CREATE_TITLE,body:a(d[6]).APP_HIGH_INTENTION_STORIES_CREATE_BODY};default:return i(d[7])("We shouldn't be getting to this case since the control won't show an app upsell"),{title:a(d[6]).GUIDE_HEADER_TEXT_DEFAULT,body:a(d[6]).GUIDE_BODY_TEXT_DEFAULT}}},[u,A,_,n]),C=a(d[0]).useCallback(o=>{r(d[8]).logAction_DEPRECATED('appSheetDismiss',{platform:r(d[9]).getAppPlatform(),source:n,type:t}),r(d[10]).logLoggedInCtaEvent({containermodule:n,ctaType:'app_sheet',ctaVersion:_?'instagramlitecarbon':'',eventName:'dismiss'}),b(!0),I(r(d[11]).closeAppUpsellLoggedInSheet()),r(d[4]).setDismissEntry(r(d[4]).USE_THE_APP_LI_SHEET)},[I,_,n]),D=a(d[0]).useCallback(o=>{o.preventDefault(),r(d[8]).logAction_DEPRECATED('appSheetClick',{platform:r(d[9]).getAppPlatform(),source:n,type:t}),r(d[10]).logLoggedInCtaEvent({containermodule:n,ctaType:'app_sheet',ctaVersion:_?'instagramlitecarbon':'',eventName:'click'}),r(d[12]).flushLogsAndOpenInApp(c,E,p,null,'logged_in_app_sheet',_)},[c,E,_,p,n]),N=a(d[0]).useMemo(()=>{const t=!0===i(d[13])._("6e5d85cb48b33b7d214bae2b7617853c","babe870c0e3313f8e57c49b40cadca58")||!0===i(d[13])._("6e5d85cb48b33b7d214bae2b7617853c","af069090f87d0afc94dca34ec07d2b87");return r(d[14]).isUserLoggedIn()&&r(d[15]).isMobile()&&!T&&t},[T]);a(d[0]).useEffect(()=>{N&&!s&&(r(d[8]).logAction_DEPRECATED('appSheetImpression',{platform:r(d[9]).getAppPlatform(),source:n,type:t}),r(d[10]).logLoggedInCtaEvent({containermodule:n,ctaType:'app_sheet',ctaVersion:_?'instagramlitecarbon':'',eventName:'impression'}),l(!0))},[_,s,n,N]);const{body:S,title:O}=P();return N&&a(d[0]).createElement(i(d[16]),{appIcon:a(d[0]).createElement(r(d[17]).IconButton,{alt:a(d[6]).GO_TO_THE_APP,icon:_?r(d[17]).ICONS.QP_INSTAGRAM:r(d[17]).ICONS.APP_ICON_36,onClick:D}),body:S,isIgLiteCarbon:_,onCallToActionClick:D,onClose:C,title:O})};e.default=o},7667750,[3,13500657,5,13435306,13435497,13435120,13500654,13434970,13434982,13434885,13238851,13435502,13435500,13435040,13434984,13434887,13500788,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=a(d[2]).memo(function(t){return!0===(r(d[0]).isUserLoggedIn()?i(d[1])._("17eee9316ff98419f0da0f87506e1826","5674296d5992b855933c716066375b34"):i(d[1])._("282188012a6be9b45d0a5625db9131e5","42f2cd6fa53e15b032c207ba139724e3"))?a(d[2]).createElement(i(d[3]),t):a(d[2]).createElement(i(d[4]),i(d[5])({},t,{viewBox:"0 0 48 48"}),a(d[2]).createElement("path",{d:"M24 0C10.8 0 0 10.7 0 24s10.7 24 24 24 24-10.7 24-24S37.3 0 24 0zm12.3 25.5H25.5v10.7c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V25.5H11.8c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h10.7V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v10.7h10.7c.8 0 1.5.7 1.5 1.5s-.6 1.6-1.4 1.6z"}))});e.default=t},7667751,[13434984,13435040,3,7667752,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=a(d[0]).memo(function(t){return a(d[0]).createElement(i(d[1]),i(d[2])({},t,{viewBox:"0 0 24 24"}),a(d[0]).createElement("path",{d:"M12.001.504a11.5 11.5 0 1011.5 11.5 11.513 11.513 0 00-11.5-11.5zm5 12.5h-4v4a1 1 0 01-2 0v-4h-4a1 1 0 110-2h4v-4a1 1 0 112 0v4h4a1 1 0 010 2z"}))});e.default=t},7667752,[3,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=!1;e.default=function({broadcast:o,isVisible:n,onScrollEnter:s,trayPosition:l}){const{cobroadcasters:c,muted:u}=o,f=r(d[0]).useDispatch(),y=r(d[1]).useCallback(()=>{f(r(d[2]).openLivePlayerFromStoryTray(o,'live_feed_timeline',l))},[o,f,l]),p=r(d[0]).useSelector(t=>r(d[3]).getDisplayedBroadcasters(t,o.id)),{primary:E}=p;r(d[1]).useEffect(()=>{n&&s(o,l)},[o,n,s,l]);const _=c.length>0?a(d[1]).createElement(r(d[4]).Box,{direction:"row"},a(d[1]).createElement(r(d[4]).Box,{marginEnd:1,maxWidth:44},a(d[1]).createElement(r(d[4]).Text,{display:"truncated",size:"footnote",zeroMargin:!0},E.username)),a(d[1]).createElement(r(d[4]).Text,{size:"footnote",zeroMargin:!0},r(d[5]).liveBroadcasters(c.length))):E.username;return a(d[1]).createElement(r(d[6]).StoryTrayItemBase,{isLive:!0,isMuted:u,isSeen:t,label:_,onClick:y,profilePictureUrl:E.profile_pic_url,username:E.username})}},7667753,[5,3,13435580,13435579,13500463,13500786,7667748]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return t.displayProperties.viewportWidth>=i(d[1])['feed-with-padding-threshold-min'].value}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function(l){const n=r(d[2]).useSelector(t);return a(d[3]).createElement("div",{className:`zGtbP ${n?"IPQK5":""} ${r(d[4]).isDesktop()?"VideM":""}`},i(d[5])._("bed369d8cb9072d1ae8b7a9289ce9b01")?a(d[3]).createElement(r(d[6]).HeroPlaceholder,{fallback:a(d[3]).createElement(i(d[7]),null),name:"FeedStoryTrayWrapper"},l.children):a(d[3]).createElement(a(d[3]).Suspense,{fallback:a(d[3]).createElement(i(d[7]),null)},l.children))}},7667754,[7667755,13500456,5,3,13434887,13434937,13435386,7667756]);
__d(function() {},7667755,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function(){const t=window.innerWidth,n=Math.ceil(t/r(d[1]).MOBILE_TRAY_COL_WIDTH);return a(d[2]).createElement("div",{className:"CfWOi"},i(d[3])(n,t=>a(d[2]).createElement("div",{className:"vyqnV",key:t},a(d[2]).createElement(i(d[4]),null))))}},7667756,[7667757,7667743,3,13435352,7667758]);
__d(function() {},7667757,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=56;var n=function(){return a(d[1]).createElement(i(d[2]),{className:"y0gra",size:t})};e.default=n},7667758,[7667759,3,7471118]);
__d(function() {},7667759,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=function({className:t,hideAvatarBorder:s,size:n}){return a(d[1]).createElement("div",{className:i(d[2])("hHOPZ",t)},a(d[1]).createElement(i(d[3]),{className:"_4CvhT",isLoading:!1,seen:!0,showRing:!1,size:n}),a(d[1]).createElement("div",{className:`_7JZQt ${s?"":"LO-7C"}`,style:{height:n,width:n}}))};e.default=t},7471118,[7471119,3,13500468,13500780]);
__d(function() {},7471119,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t({children:t,resource:s}){return a(d[4]).createElement(i(d[5]),{intrinsicDimensions:s.intrinsicDimensions},({className:s})=>a(d[4]).createElement("div",{className:s},t))}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const s='storyMedia',o=t=>(t,s)=>{if(r(d[1]).isReelItemExpired(t.expiringAt,s))return null;return Boolean(null!=t.src&&null!=t.dimensions)&&!1===t.isVideo&&t.displayResources?{type:r(d[2]).PREFETCHED_IMAGE,id:t.id,src:i(d[3])(t.src),srcSet:i(d[3])(t.displayResources),intrinsicDimensions:i(d[3])(t.dimensions)}:null};var n=r(d[10]).connect(function(t,s){const o=r(d[1]).getPrefetchablePostIds(t,s.prefetchContext);return{postIds:o,prefetchLogExtras:r(d[1]).getPrefetchLogExtras(t,o)}},function(t,s){return{onLoadComplete(){'feed'===s.prefetchContext&&t({type:r(d[9]).FEED_PAGE_STORY_PREFETCH_COMPLETE})}}})(i(d[11])(class extends a(d[4]).Component{componentDidMount(){const t={...this.props.prefetchLogExtras,dataSaver:this.props.isDataSaverMode,preload:this.props.preload};r(d[6]).logIgLiteAction({event_name:'storiesPrefetchAttempt',extras:t}),this.props.preload!==r(d[7]).PRELOAD_AUTO&&this.props.onLoadComplete()}render(){return this.props.preload===r(d[7]).PRELOAD_AUTO&&a(d[4]).createElement("div",{className:"vgS-T"},a(d[4]).createElement(i(d[8]),{getResourceFromPost:o(this.props.prefetchContext),layoutWrapper:t,onLoadComplete:this.props.onLoadComplete,postIds:this.props.postIds.toArray(),viewKey:s}))}}));e.default=n},3801274,[3801275,13435045,3801205,13500444,3,3801179,13435404,13435482,3801276,13434997,5,3801202]);
__d(function() {},3801275,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=1.3,s=1;class o extends a(d[3]).Component{constructor(...o){super(...o),this.state={height:0,width:0},this.$StoryMediaLayout2=((o,n)=>{const{intrinsicDimensions:h}=this.props,c=this.$StoryMediaLayout1()?s:t;let l=o,u=n;const y=l/u,p=h.width/h.height;y/p>c||p/y>c?y>p?l=u*p:u=l/p:y>p?u=l/p:l=u*p,this.setState({height:u,width:l}),this.context.updateStoriesContext({mediaDimensions:{width:l,height:u}})})}$StoryMediaLayout1(){const{isTallDevice:t}=this.props;return t&&r(d[1]).isMobile()}render(){const{children:t}=this.props;'function'==typeof t||i(d[2])(0);const{width:s,height:o}=this.state;let n=null;if(0!==s&&0!==o){const h={className:"y-yJ5",layoutWidth:s,layoutHeight:o};n=a(d[3]).createElement("div",{className:"qbCDp",style:{width:s,height:o}},t(h))}return a(d[3]).createElement(i(d[4]),{className:`JkC_e ${r(d[1]).isDesktop()?"dHJVu":""}`,onResize:this.$StoryMediaLayout2},n)}}o.contextType=r(d[5]).StoriesContext;var n=r(d[7]).connect(function(t){return{isTallDevice:r(d[6]).getIsTallDevice(t)}})(o);e.default=n},3801179,[3801180,13434887,3276909,3,13500531,3801096,3801181,5]);
__d(function() {},3801180,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={bloksButtonAppId:'',bloksButtonClickCount:0,hasFocus:!0,isBugNubActive:!1,isCloseFriendsDialogActive:!1,isExclusiveStoryDialogActive:!1,isHidden:!1,isInitialLoad:!0,isInitiallyFollowedByViewer:!1,isKeyboardActive:!1,isModalActive:!1,isMusicAvailableInCountry:!0,isMuted:!0===r(d[0]).isDesktop(),isPaused:!1,isPlaybackDisabled:!1,isResumeOverlayActive:!1,isStoryShareSheetActive:!1,isStoryViewerListActive:!1,isTransitioning:!1,isUnfollowModalActive:!1,mediaDimensions:{height:0,width:0},needsTapToStart:!1,postIDThatShouldShowSensitiveContentOverlay:null,shareClickCount:0,updateStoriesContext:()=>{},viewerHeight:0,viewerIsLoggedIn:!1,viewerWidth:0},s=a(d[1]).createContext(t);e.defaultContext=t,e.StoriesContext=s},3801096,[13434887,3]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createSelector(t=>t.displayProperties.viewportHeight,t=>t.displayProperties.viewportWidth,(t,o)=>t/o>1.7777777777777777);e.getIsTallDevice=t},3801181,[9]);
__d(function(g,r,i,a,m,e,d){"use strict";function t({onClose:t}){const{data:n}=i(d[0])(),[s,{status:o}]=i(d[1])(),[l,c]=i(d[2])(n),u=r(d[3]).useDispatch();return'success'===o?a(d[6]).createElement(i(d[7]),{onClose:t}):a(d[6]).createElement(i(d[8]),{dispatch:c,state:l},a(d[6]).createElement(i(d[9]),{loading:'loading'===o,onClose:t,onSubmit:async()=>{try{await s({answers:l.answers,survey:n,writeInResponses:l.writeInResponses})}catch(t){u(r(d[4]).showToast({text:r(d[5]).GENERIC_ERROR_MESSAGE}))}}}))}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:n}){return a(d[6]).createElement(i(d[10]),{errorRenderer:()=>null},a(d[6]).createElement(a(d[6]).Suspense,{fallback:null},a(d[6]).createElement(t,{onClose:n})))}},7667760,[7667761,7667762,7667764,5,13435270,13435272,3,7667768,7667770,7667773,13500751]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t='467136164230165';e.default=function(){return r(d[0]).useQuery(['/api/v1/web/get_survey/{integration_point_id}/',{path:{integration_point_id:t}}],(t,n)=>r(d[1]).apiGet('/api/v1/web/get_survey/{integration_point_id}/',n).then(t=>t.data),{suspense:!0})}},7667761,[13239271,13435070]);
__d(function(g,r,i,a,m,e,d){"use strict";async function s({answers:s,survey:n,writeInResponses:t}){const o={answers:Object.keys(s).map(n=>({answers:s[n].map(s=>{if(s.type===r(d[0]).ANSWER_TYPES.option){const o=!0===s.writeInResponse?t[n]:null;return null!=o&&''!==o?o:s.value.option_value}return s.value}),question_id:n})),pages:n.pages.map(s=>({question_ids:s.questions.map(s=>s.question_id)})),session_blob:n.session_blob,survey_id:n.survey_id};try{await r(d[1]).apiPost('/api/v1/web/submit_survey/',{body:o},{options:{dataType:'json'}})}catch(s){throw r(d[2]).logError(s),s}}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(){return r(d[3]).useMutation(s)}},7667762,[7667763,13435070,13434971,13239271]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.ANSWER_TYPES={text:"text",option:"option"}},7667763,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(s){const u=r(d[0]).useMemo(()=>({answers:{},page:0,prevPages:[],survey:s,writeInResponses:{}}),[s]);return r(d[0]).useReducer(i(d[1]),u)}},7667764,[3,7667765]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n,s){var t;return{...n,page:null!==(t=n.prevPages[n.prevPages.length-1])&&void 0!==t?t:0,prevPages:n.prevPages.slice(0,-1)}}function s(n,s){const t=r(d[0]).getNextPage(n);return null==t||t===n.page?n:{...n,page:t,prevPages:[...n.prevPages,n.page]}}function t(n,s){return{...n,answers:{...n.answers,[s.questionId]:s.answers}}}function u(n,s){return{...n,writeInResponses:{...n.writeInResponses,[s.questionId]:s.writeInResponse}}}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(c,o){switch(o.type){case r(d[1]).SURVEY_PAGE_BACK:return n(c);case r(d[1]).SURVEY_PAGE_NEXT:return s(c);case r(d[1]).SURVEY_SET_ANSWER:return t(c,o);case r(d[1]).SURVEY_SET_WRITE_IN_RESPONSE:return u(c,o);default:return c}}},7667765,[7667766,7667767]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.getNextPage=function(n){const t=n.survey.pages[n.page].control_node;switch(t.node_type){case'direct':return t.direct_next_page_index_int;case'branch':{var o;const u=i(d[0])(t.branch_question_id),_=i(d[0])(t.branch_response_maps),s=t.branch_default_page_index,c=null===(o=n.answers[u])||void 0===o?void 0:o[0];if(null!=c&&c.type===r(d[1]).ANSWER_TYPES.option){const n=_.find(n=>n.response_option_numeric_value===c.value.option_numeric_value);if(null!=n)return n.page_index}return s}}return n.page},e.getQuestionText=function(n,t){return t.text_token_params.reduce((t,{param_name:o,question_id:u})=>{var _;const s=null===(_=n.answers[u])||void 0===_?void 0:_[0];if(null!=s){const n=s.type===r(d[1]).ANSWER_TYPES.option?s.value.option_text:s.value;return t.replace(`{${o}}`,`"${n}"`)}return t},t.body)}},7667766,[13500444,7667763]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.SURVEY_PAGE_BACK='SURVEY_PAGE_BACK',e.SURVEY_PAGE_NEXT='SURVEY_PAGE_NEXT',e.SURVEY_SET_ANSWER='SURVEY_SET_ANSWER',e.SURVEY_SET_WRITE_IN_RESPONSE='SURVEY_SET_WRITE_IN_RESPONSE'},7667767,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:t}){return a(d[0]).createElement(r(d[1]).Modal,{"aria-label":r(d[2]).SURVEY_HEADER,onClose:t,size:r(d[3]).isMobile()?'large':'default'},a(d[0]).createElement(r(d[1]).ModalHeader,{onClose:t},r(d[2]).SURVEY_HEADER),a(d[0]).createElement(r(d[1]).Box,{alignItems:"center",marginTop:r(d[3]).isMobile()?16:void 0,padding:8},a(d[0]).createElement(r(d[1]).Icon,{alt:r(d[4]).INSTAGRAM_TEXT,icon:r(d[1]).ICONS.APP_ICON_45}),a(d[0]).createElement(r(d[1]).Box,{marginTop:4},a(d[0]).createElement(r(d[1]).Text.Label,{textAlign:"center"},r(d[2]).THANKS)),a(d[0]).createElement(r(d[1]).Box,{marginTop:4},a(d[0]).createElement(r(d[1]).Text.Body,{color:"ig-secondary-text",textAlign:"center"},r(d[2]).THANKS_TEXT))))}},7667768,[3,13500463,7667769,13434887,13435272]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const T=r(d[0])(2008),_=r(d[0])(1970),E=r(d[0])(3372),t=r(d[0])(3133),N=r(d[0])(258),U=r(d[0])(1463);e.THANKS=T,e.THANKS_TEXT=_,e.GIVE_FEEDBACK=E,e.SURVEY_HEADER=t,e.CONTINUE_BUTTON=N,e.SUBMIT_BUTTON=U},7667769,[13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({children:t,dispatch:n,state:u}){return a(d[0]).createElement(r(d[1]).SurveyDispatchContext.Provider,{value:n},a(d[0]).createElement(r(d[2]).SurveyStateContext.Provider,{value:u},t))}},7667770,[3,7667771,7667772]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createContext(null);e.SurveyDispatchContext=t,e.useSurveyDispatch=function(){return i(d[1])(r(d[0]).useContext(t))}},7667771,[3,13500444]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createContext(null);e.SurveyStateContext=t,e.useSurveyState=function(){return i(d[1])(r(d[0]).useContext(t))}},7667772,[3,13500444]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({loading:t,onClose:l,onSubmit:n}){return a(d[0]).createElement(r(d[1]).Modal,{"aria-label":r(d[2]).SURVEY_HEADER,size:r(d[3]).isMobile()?'large':'default'},a(d[0]).createElement(i(d[4]),{onClose:l,title:r(d[2]).SURVEY_HEADER}),a(d[0]).createElement(i(d[5]),{loading:t,onSubmit:n}))}},7667773,[3,13500463,7667769,13434887,7667774,7667775]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:t,title:o}){const u=r(d[0]).useSurveyDispatch(),{page:n}=r(d[1]).useSurveyState(),l=r(d[2]).useCallback(()=>{u({type:r(d[3]).SURVEY_PAGE_BACK})},[u]);return a(d[2]).createElement(r(d[4]).ModalHeader,{onBack:n>0?l:void 0,onClose:t},o)}},7667774,[7667771,7667772,3,7667767,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({loading:t,onSubmit:o}){const n=r(d[0]).useSurveyDispatch(),u=r(d[1]).useSurveyState(),{page:l,survey:c}=u,s=c.pages[l],E=null==r(d[2]).getNextPage(u);return a(d[4]).createElement(r(d[5]).Box,{flex:"grow",overflow:"auto",padding:6},a(d[4]).createElement(r(d[5]).Form,{onSubmit:()=>{E?o():n({type:r(d[3]).SURVEY_PAGE_NEXT})}},a(d[4]).createElement(r(d[5]).Box,{minHeight:r(d[6]).isMobile()?void 0:180},a(d[4]).createElement(i(d[7]),{page:s})),a(d[4]).createElement(r(d[5]).Button,{color:"ig-secondary-button",fullWidth:!0,large:!0,loading:t,type:"submit"},E?r(d[8]).SUBMIT_BUTTON:r(d[8]).CONTINUE_BUTTON)))}},7667775,[7667771,7667772,7667766,7667767,3,13500463,13434887,7667776,7667769]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({page:t}){const n=r(d[0]).useSurveyState();return t.questions.map(t=>a(d[1]).createElement(r(d[2]).Box,{key:t.question_id},a(d[1]).createElement(r(d[2]).Text.Label,{textAlign:"center",zeroMargin:!0},a(d[1]).createElement("label",{htmlFor:t.question_id},r(d[3]).getQuestionText(n,t))),a(d[1]).createElement(r(d[2]).Box,{paddingY:4},a(d[1]).createElement(i(d[4]),{question:t}))))}},7667776,[7667772,3,13500463,7667766,7667777]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:t}){switch(t.question_class){case'CHECKBOX':return a(d[0]).createElement(i(d[1]),{question:t});case'MESSAGE':return a(d[0]).createElement(i(d[2]),{question:t});case'RADIO':return a(d[0]).createElement(i(d[3]),{question:t});case'TEXT':return a(d[0]).createElement(i(d[4]),{question:t});default:return null}}},7667777,[3,7667778,7667780,7667781,7667782]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:n}){const{answers:t,getResponseOption:o,setAnswers:l,setWriteInResponse:u,writeInResponse:s}=i(d[0])(n),p=(n,u)=>{const p=o(n);if(null==p)return;let c=t.filter(n=>n.value!==p);!0===u&&(c=[...c,{type:r(d[1]).ANSWER_TYPES.option,value:p,writeInResponse:p===(null===s||void 0===s?void 0:s.responseOption)}]),l(c)},c=n=>{null!=s&&(p(s.responseOption.option_value,!0),null!=n&&u(n.target.value))};return n.response_options.map(o=>{const{option_numeric_value:l,option_text:u,option_value:v}=o;return a(d[2]).createElement(r(d[3]).Box,{key:l,paddingY:3},a(d[2]).createElement(r(d[3]).Checkbox,{checked:null!=t.find(n=>n.type===r(d[1]).ANSWER_TYPES.option&&n.value.option_value===v),onChange:n=>p(v,n),placement:"right"},null!=s&&o===s.responseOption?a(d[2]).createElement("div",null,a(d[2]).createElement(r(d[3]).TextInput,{autoComplete:"off",name:n.question_id,onChange:c,onFocus:c,placeholder:u,value:s.value})):a(d[2]).createElement(r(d[3]).Text.Body,null,u)))})}},7667778,[7667779,7667763,3,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(s){var n,t;const o=r(d[0]).useSurveyState(),u=r(d[1]).useSurveyDispatch(),{allow_write_in_response:p,question_id:_,response_options:l}=s,R=o.answers[_],S=p?{responseOption:l[l.length-1],value:null!==(n=o.writeInResponses[_])&&void 0!==n?n:''}:null;return{answers:null!==(t=R)&&void 0!==t?t:[],getResponseOption:n=>s.response_options.find(({option_value:s})=>s===n),setAnswers:s=>{u({answers:s,questionId:_,type:r(d[2]).SURVEY_SET_ANSWER})},setWriteInResponse:s=>{u({questionId:_,type:r(d[2]).SURVEY_SET_WRITE_IN_RESPONSE,writeInResponse:s})},writeInResponse:S}}},7667779,[7667772,7667771,7667767]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:t}){return a(d[0]).createElement(r(d[1]).Box,{paddingY:2},a(d[0]).createElement(r(d[1]).Text.Body,null,t.message))}},7667780,[3,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:n}){const{answers:t,getResponseOption:o,setAnswers:l,setWriteInResponse:u,writeInResponse:s}=i(d[0])(n),p=t[0],c=null!=p&&p.type===r(d[1]).ANSWER_TYPES.option?p.value.option_value:void 0,_=n=>{const t=o(n);null!=t&&l([{type:r(d[1]).ANSWER_TYPES.option,value:t,writeInResponse:t===(null===s||void 0===s?void 0:s.responseOption)}])},v=n=>{null!=s&&(_(s.responseOption.option_value),null!=n&&u(n.target.value))};return a(d[2]).createElement(r(d[3]).RadioButtonGroup,{name:n.question_id,onChange:_,selectedValue:c},n.response_options.map(t=>{const{option_numeric_value:o,option_text:l,option_value:u}=t;return a(d[2]).createElement(r(d[3]).RadioButton,{isRadioAtEnd:!0,key:o,value:u,zeroMargin:!0},a(d[2]).createElement(r(d[3]).Box,{flex:"grow",paddingY:3},null!=s&&t===s.responseOption?a(d[2]).createElement(r(d[3]).TextInput,{autoComplete:"off",name:n.question_id,onChange:v,onFocus:v,placeholder:l,value:s.value}):a(d[2]).createElement(r(d[3]).Text.Body,null,l)))}))}},7667781,[7667779,7667763,3,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function({question:t}){const{answers:n,setAnswers:s}=i(d[1])(t),u=n[0],l='text'===(null===u||void 0===u?void 0:u.type)?u.value:'';return a(d[2]).createElement("textarea",{className:"-Oa-V",id:t.question_id,maxLength:"1250",onChange:t=>{const n=t.target.value;'string'==typeof n&&n.length>0?s([{type:'text',value:n}]):s([])},required:t.is_required,value:l})}},7667782,[7667783,7667779,3]);
__d(function() {},7667783,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:o,onOpen:t,postId:n}){r(d[0]).useEffect(()=>()=>{o()},[o]);const s=i(d[1])(r(d[2]).useSelector(o=>r(d[3]).getPostById(o,n))),{code:l,dimensions:u}=s,c=i(d[4]).feedPage;return a(d[0]).createElement(i(d[5]),{analyticsContext:c,customSize:!0===r(d[6]).isNewPostModal()?'fullscreen':void 0,dimensions:u,mediaLinkBuilder:r(d[7]).buildMediaLink,modalEntryPath:r(d[8]).FEED_PATH,onClose:o,onOpen:t,postCode:l||'',postId:n},a(d[0]).createElement(i(d[9]),{analyticsContext:`${c}Modal`,autoplay:r(d[10]).hasAutoplayEnabledOnPosts(),id:n,inModal:!0,isVisible:!0,Options:[i(d[11]),i(d[12]),i(d[13]),i(d[14]),i(d[15]),i(d[16]),i(d[17]),i(d[18])],visiblePosition:0}))}},7667784,[3,13500444,5,3801128,13435120,13239012,13238972,13435172,13435123,13239022,13435039,13239200,13239201,13239206,13239209,13239210,13239214,13239221,13239234]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});let t=0;e.default=function(n){function o(t){return a(d[0]).createElement(i(d[1]),null,o=>a(d[0]).createElement(n,i(d[2])({},t,{key:c,onStartCreation:o})))}const c=`component-with-creation-starter-${t++}`;return o.displayName=`withCreationStarter(${i(d[3])(n)})`,o}},3932180,[3,3932181,13435345,13500807]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});class t extends a(d[1]).Component{constructor(...t){super(...t),this.$CreationSessionStarter1=!1,this.$CreationSessionStarter2=((t,n)=>{this.$CreationSessionStarter1||(this.$CreationSessionStarter1=!0,i(d[0])(this.$CreationSessionStarter3).selectFile(),this.props.onStartCreation(t,n),this.$CreationSessionStarter1=!1)})}render(){return[a(d[1]).createElement(r(d[2]).ImageFileForm,{acceptMimeTypes:['image/jpeg'],key:"creation-starter-upload",onFileChange:this.props.onMediaSelect,ref:t=>this.$CreationSessionStarter3=t}),this.props.children(this.$CreationSessionStarter2)]}}t.defaultProps={creationMode:r(d[3]).CreationMode.POST};var n=r(d[6]).connect(null,function(t){return{onMediaSelect(n){n.length&&t(r(d[4]).creationSelectImage(n[0]))},onStartCreation(n,o=r(d[3]).CreationMode.POST){t(r(d[5]).trackEntrypoint()),t(r(d[4]).startCreationSession(n,o))}}})(t);e.default=n},3932181,[13500444,3,3407881,13500459,3932182,13435305,5]);