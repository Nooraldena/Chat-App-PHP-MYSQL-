__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});class t extends a(d[2]).PureComponent{constructor(...t){super(...t),this.state={commentToDeleteId:null,showDeleteCommentModal:!1},this.$PostComments1=(t=>{this.setState({commentToDeleteId:t,showDeleteCommentModal:!0})}),this.$PostComments2=(()=>{this.setState({commentToDeleteId:null,showDeleteCommentModal:!1})})}$PostComments3(){const{caption:t,showIGTVCaption:o,title:n}=this.props;return o?[n,t].filter(Boolean).join('\n\n'):t}$PostComments4(){return this.props.variant!==r(d[0]).VARIANTS.feed&&!r(d[1]).isMobile()}render(){const{analyticsContext:t,captionIsEdited:o,className:n,code:s,commentingDisabledForViewer:l,commentsAreStacked:c,commentsDisabled:C,customIndentationPadding:h,customPaddingStyle:p,hasRankedComments:I,hideUserAvatar:u,id:w,mediaType:v,onLikeCountClick:P,onLikeModalClose:k,ownerId:D,permalinkedCommentId:A,permalinkedReplyId:T,postedAt:y,reducedAvatarMargin:M,showCommentOptionsInline:R,showIGTVCaption:V,showRemoveCommentIcons:$,variant:b,viewerId:f}=this.props,S=null!=f;return a(d[2]).createElement(a(d[2]).Fragment,null,this.$PostComments4()?a(d[2]).createElement(i(d[3]),{analyticsContext:t,captionAndTitle:this.$PostComments3(),captionIsEdited:o,className:n,code:s,commentingDisabledForViewer:l,commentsDisabled:C,customIndentationPadding:h,customPaddingStyle:p,handleDeleteCommentClick:this.$PostComments1,hasRankedComments:I,hideUserAvatar:!!u,id:w,isDeletingComments:$,loggedIn:S,mediaType:v,onLikeCountClick:P,onLikeModalClose:k,ownerId:D,permalinkedCommentId:A,permalinkedReplyId:T,postedAt:y,reducedAvatarMargin:M,showCommentOptionsInline:R,showIGTVCaption:V}):a(d[2]).createElement(i(d[4]),{captionAndTitle:this.$PostComments3(),captionIsEdited:o,className:n,code:s,commentsAreStacked:c,commentsDisabled:C,handleDeleteCommentClick:this.$PostComments1,id:w,loggedIn:S,mediaType:v,ownerId:D,postedAt:y,showIGTVCaption:V,showRemoveCommentIcons:$,variant:b}),this.state.showDeleteCommentModal&&a(d[2]).createElement(i(d[5]),{analyticsContext:t,commentId:i(d[6])(this.state.commentToDeleteId),onClose:this.$PostComments2,postId:w}))}}t.defaultProps={variant:r(d[0]).VARIANTS.flexible};var o=r(d[9]).connect(function(t){var o;return{showRemoveCommentIcons:r(d[7]).getPostRemoveCommentsIsVisible(t),viewerId:null===(o=r(d[8]).getViewer(t))||void 0===o?void 0:o.id}})(t);e.default=o},6619136,[13239026,13434887,3,6619137,6619152,6619154,13500444,6619155,13435258,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){const o=n.getBoundingClientRect().top-n.scrollTop;return t.getBoundingClientRect().top-o}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);const n=12,o=1,s=6,l=1.5,c=t=>{const{innerRef:n,isPermalinkedComment:o,onHidePermalinkReply:s,parentComment:l,parentProps:c,parentState:h,permalinkedReplyId:p,permalinkedReplyNodeRef:C,replyPagerNodeRef:u}=t,{analyticsContext:T,code:k,commentingDisabledForViewer:f,customIndentationPadding:I,customPaddingStyle:P,handleDeleteCommentClick:y,hideUserAvatar:R,id:$,isDeletingComments:b,loggedIn:M,onLikeCountClick:L,onLikeModalClose:w,ownerId:v,reducedAvatarMargin:A,showCommentOptionsInline:N}=c,{commentPermalinkAnimEnabled:E}=h;return a(d[2]).createElement(i(d[3]),{analyticsContext:T,code:k,commentingDisabledForViewer:f,customIndentationPadding:I,customPaddingStyle:P,hideUserAvatar:R,innerRef:n,isPermalinkedComment:o,loggedIn:M,onDeleteCommentClick:y,onHidePermalinkReply:s,onLikeCountClick:L,onLikeModalClose:w,parentComment:l,permalinkedReplyAnimating:E,permalinkedReplyId:p,permalinkedReplyNodeRef:C,postId:$,postOwnerId:v,reducedAvatarMargin:A,replyPagerNodeRef:u,showCommentOptionsInline:N,showRemoveIcon:b})};var h=r(d[26]).connect(function(t,n){const{id:o,ownerId:s,permalinkedCommentId:l}=n,c=r(d[18]).selectVisibleParentCommentsForPostId(t,o),{count:h,pagination:p}=t.threadedComments.parentByPostId.get(o,r(d[19]).EMPTY_POST_COMMENTS_STATE),C=t.pendingComments.get(o,r(d[20]).EMPTY_PENDING_COMMENT);let u=null;return null!=l&&''!==l&&(u=r(d[21]).getCommentById(t,l)),{commentWasReply:null!=C.repliedToCommentId,commentSaveIsInFlight:C.committing,comments:c,commentsHasNextPage:r(d[22]).hasNextPage(p),commentsIsFetching:r(d[22]).isFetching(p),commentsTotalCount:null!=h?h:0,isOwnerVerified:r(d[23]).getUserById(t,s).isVerified,numTimesLoadComment:t.threadedComments.numTimesLoadComment,permalinkedComment:u}},function(t){return{addLoadCount(){t(r(d[24]).onIncreaseCommentLoadCount())},loadMore(n,o,s){!0===i(d[4])._("1c46bf25792a3c449303f8a67f0a6e5c","01925c04edf774b7f294f8aca6eb3329")?t(r(d[24]).requestNextParentCommentPageV2(n,o,s)):t(r(d[24]).requestNextParentCommentPage(n,o,s))},onClickCommentLoaded(n){t(r(d[25]).openLoginModal('content_wall',r(d[13]).buildMediaLink(n)))},onLoggedOutIntentClickLoginModal(n,o){t(r(d[25]).openLoginModal('feature_wall',n,o))}}})(class extends a(d[2]).PureComponent{constructor(...t){super(...t),this.$ThreadedComments1=a(d[2]).createRef(),this.$ThreadedComments2=a(d[2]).createRef(),this.$ThreadedComments3=a(d[2]).createRef(),this.$ThreadedComments4=[],this.state={isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!1,replyPermalinkLastHideTime:null},this.$ThreadedComments13=(t=>{const{addLoadCount:n,analyticsContext:o,code:s,hasRankedComments:l,id:c,loadMore:h,loggedIn:p,mediaType:C,numTimesLoadComment:u,onClickCommentLoaded:T,ownerId:k}=this.props;!p&&!0===i(d[4])._("4793fa4fbe26a206d0b022a2d80efcd3","9bdfdee181e67439396f43d8544f3508")&&u>=i(d[5])(i(d[4])._("4793fa4fbe26a206d0b022a2d80efcd3","4d23f1db39cc77ea98d09e869377b01b"))&&!i(d[6])._("3500c1040008f41eafda8aa9aa91af7b")?T(s):(h(c,l,s),r(d[7]).logInteractionAction({containerModule:o,eventName:'instagram_child_comments_load_more',mediaAuthorId:k,mediaId:c,mediaType:C})),n()})}$ThreadedComments5(){return this.$ThreadedComments1.current||null}$ThreadedComments6(){return this.$ThreadedComments2.current||null}$ThreadedComments7(){return this.$ThreadedComments3.current||null}$ThreadedComments8(n,o,s,l){this.setState({isAutoscrollingCommentPermalink:!0,commentPermalinkAnimEnabled:!1}),r(d[8]).measure(()=>{let c;const h=t(o,n);if(s){const o=t(s,n),l=s.getBoundingClientRect().height,p=n.getBoundingClientRect().height,C=Math.max(p-l,0);c=Math.max(h,o-C)}else c=h;r(d[8]).mutate(()=>{n.scrollTop=c;const t=()=>{this.setState({isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!0})};l?r(d[9]).onPageTimingsAvailable(()=>{t()}):t()})})}componentDidMount(){const t=this.$ThreadedComments9;if(!t)return;const n=this.$ThreadedComments5();if(n)this.$ThreadedComments8(t,n,this.$ThreadedComments6(),!0);else if(!this.props.hasRankedComments){if(r(d[10]).isDesktop())return;t.scrollTop=t.scrollHeight}}componentDidUpdate(t,n,o){const s=this.$ThreadedComments9;if(!s)return;const l=this.$ThreadedComments5();if(l){if(this.state.isAutoscrollingCommentPermalink)return;if(this.props.permalinkedCommentId!==t.permalinkedCommentId||this.props.permalinkedReplyId!==t.permalinkedReplyId)return void this.$ThreadedComments8(s,l,this.$ThreadedComments6(),!1)}this.$ThreadedComments10(t,n,o,s,l)}$ThreadedComments10(t,n,o,s,l){const c=t.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,{newCommentCachedOffset:h}=o||{},p=t.id===this.props.id&&t.permalinkedCommentId===this.props.permalinkedCommentId&&t.permalinkedReplyId===this.props.permalinkedReplyId&&n.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,C=this.$ThreadedComments7();c&&!t.commentWasReply&&this.$ThreadedComments4[0]&&this.$ThreadedComments4[0].scrollIntoView({behavior:'smooth',block:'nearest',inline:'start'}),r(d[8]).measure(()=>{let n=null;!c||t.commentWasReply||this.props.hasRankedComments?null!=h?n=s.scrollHeight-h:p&&l&&C&&(n=this.$ThreadedComments11(s,l,C)):n=s.scrollHeight,r(d[8]).mutate(()=>{null!=n&&(s.scrollTop=n)})})}$ThreadedComments11(n,o,s){const l=t(s,n),c=t(o,n),h=Math.max(l-6,c);return n.scrollTop>h?h:null}getSnapshotBeforeUpdate(t,n){const o=t.comments,s=this.props.comments,l=this.$ThreadedComments9;return l&&t.id===this.props.id&&s.count()>o.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:l.scrollHeight-l.scrollTop}:null}$ThreadedComments12(){this.setState({replyPermalinkLastHideTime:(new Date).valueOf()})}render(){var t;const{analyticsContext:h,captionAndTitle:p,captionIsEdited:C,className:u,code:T,comments:k,commentsDisabled:f,commentsHasNextPage:I,customPaddingStyle:P,disableScroll:y,hasRankedComments:R,hideUserAvatar:$,id:b,isOwnerVerified:M,loggedIn:L,mediaType:w,ownerId:v,permalinkedComment:A,permalinkedReplyId:N,postedAt:E,reducedAvatarMargin:x,showCommentOptionsInline:S,showIGTVCaption:O,showPagerBelowComments:_}=this.props,F=!0!==f&&Boolean(I);if((null==p||''===p)&&0===k.count()&&!F)return a(d[2]).createElement("div",{className:u});let H=null,D=null;null!=f&&(H=A?a(d[2]).createElement("div",{className:`ONnYN ${this.state.commentPermalinkAnimEnabled&&!N?"_4Rhts":""}`,ref:this.$ThreadedComments1},a(d[2]).createElement(c,{isPermalinkedComment:!0,onHidePermalinkReply:()=>this.$ThreadedComments12(),parentComment:A,parentProps:this.props,parentState:this.state,permalinkedReplyId:N,permalinkedReplyNodeRef:this.$ThreadedComments2,replyPagerNodeRef:this.$ThreadedComments3})):null,D=this.props.comments.map((t,n)=>A&&t.id===A.id?null:a(d[2]).createElement(c,{innerRef:t=>this.$ThreadedComments4[n]=t,key:n,parentComment:t,parentProps:this.props,parentState:this.state})).filter(t=>!!t));let V=null;null!=p&&''!==p&&(V=a(d[2]).createElement(i(d[11]),{analyticsContext:h,className:`PpGvg ${r(d[10]).isMobile()?"_1LqHP":""}`,commentOwnerId:v,customPaddingStyle:P,hideUserAvatar:!!$,isAuthorVerified:!!M,isCaption:!0,isEdited:!!C,isRestrictedPending:!1,key:"captionAndTitle",loggedIn:L,mediaType:w,postedAt:i(d[5])(E),postId:b,postOwnerId:v,reducedAvatarMargin:x,showCommentOptionsInline:S,showIGTVCaption:O,showRemoveIcon:!1,showRichComment:!0,text:p,variant:r(d[12]).VARIANTS.flexible}));const B=F&&this.renderLoadMoreCommentsLink(null!=H),U=r(d[13]).buildMediaCommentsLink(i(d[5])(T),r(d[10]).isMobile()),q=r(d[10]).isDesktop()&&L&&r(d[14]).showCommentInfiniteScroll(),G=R||!0===_||q;return a(d[2]).createElement("div",{className:u},a(d[2]).createElement("ul",{className:`XQXOT ${y?"m30fh":""} ${null!==H?"OK1bl":""} ${null===V?"RxcQ6":""} ${!B||G?"pXf-y":""} ${'compact'===P?"M-yqw":""}`,ref:t=>this.$ThreadedComments9=t},V,H,q&&null!=D?a(d[2]).createElement(i(d[15]),{allowSampledScrollLogging:!1,analyticsContext:h,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:null!==(t=this.props.commentsHasNextPage)&&void 0!==t&&t,initialRenderCount:n,isFetching:this.props.commentsIsFetching,items:D,nextPageThreshold:o,onNextPage:()=>{this.$ThreadedComments13(U)},overscanCount:s,prefetchNextPageThreshold:l,renderFeedItem:({index:t})=>{var n;return null==D?null:null!==(n=D.get(t))&&void 0!==n?n:null},sizeCache:new(i(d[16]))({estimatedSize:80}),visibleCount:D.size}):a(d[2]).createElement(a(d[2]).Fragment,null,!G&&B,D,G&&B)))}renderLoadMoreCommentsLink(t){const{code:n,commentsIsFetching:o,hasRankedComments:s,loggedIn:l,onLoggedOutIntentClickLoginModal:c}=this.props,h=r(d[13]).buildMediaCommentsLink(i(d[5])(n),r(d[10]).isMobile());let p,C;return s?(p=0,C=0):t?(p=2,C=2):(p=0,C=4),a(d[2]).createElement("li",null,a(d[2]).createElement(i(d[17]),{commentsIsFetching:o,handleLoadMoreCommentsClick:this.$ThreadedComments13,loggedIn:l,marginBottom:C,marginTop:p,onLoggedOutIntentClickLoginModal:c,url:h}))}});e.default=h},6619137,[6619138,6619139,3,6619140,13435040,13500444,13434937,3801122,13435116,13435113,13434887,6619142,13239026,13435172,13238972,13238993,13500622,6619149,6619148,13435060,13238410,13239122,13435065,13435258,3801129,13435305,5]);
__d(function() {},6619138,[]);
__d(function() {},6619139,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);const t=t=>{const{childComment:n,disableTimestampNav:o,parentProps:l}=t,{analyticsContext:s,code:c,commentingDisabledForViewer:C,customPaddingStyle:h,hideUserAvatar:p,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,parentComment:w,postId:P,postOwnerId:R,reducedAvatarMargin:b,showCommentOptionsInline:v,showRemoveIcon:A}=l;return a(d[2]).createElement(i(d[3]),{analyticsContext:s,className:`lDe-V ${'compact'===h?"q9edn":""}`,code:c,commentingDisabledForViewer:C,commentOwnerId:n.userId,commentThreadId:w.id,customPaddingStyle:h,disableTimestampNav:o,hideUserAvatar:!!p,id:n.id,isAuthorVerified:n.isAuthorVerified,isRestrictedPending:n.isRestrictedPending,key:n.id,likeCount:n.likeCount,likedByViewer:n.likedByViewer,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,postedAt:n.postedAt,postId:P,postOwnerId:R,reducedAvatarMargin:b,showCommentOptionsInline:v,showRemoveIcon:A,showRichComment:!0,text:n.text,variant:r(d[4]).VARIANTS.flexible})};const n={hideReplies:r(d[14]).hideChildComments,loadChildComments:r(d[14]).requestNextChildCommentPage,loadChildCommentsV2:r(d[14]).requestNextChildCommentPageV2,showReplies:!0===i(d[6])._("919c32fd8a384e3660a325c8b197e3a9","f4a453646b021ba4e515b53e84c8950b")?r(d[14]).showChildCommentsV2:r(d[14]).showChildComments};var o=r(d[15]).connect(function(t,n){const{parentComment:o,permalinkedReplyId:l}=n,{remainingCachedShowableChildCommentIds:s,visibleChildComments:c}=r(d[10]).selectChildCommentsForParentIdSplitByVisibility(t,o.id),C=r(d[10]).getTotalChildCommentCountForParentId(t,o.id),{pagination:h}=t.threadedComments.childByParentId.get(o.id,r(d[11]).EMPTY_POST_COMMENTS_STATE);let p=null;return null!=l&&''!==l&&(p=r(d[12]).getCommentById(t,l)),{childCommentsCacheCanShowMoreWithoutFetch:r(d[13]).getVisibleCount(h)<r(d[13]).getLoadedCount(h),childCommentsCanFetchMorePagination:r(d[13]).canFetchMorePagination(h),childCommentsHasNextPage:r(d[13]).hasNextPage(h),childCommentsIsFetching:r(d[13]).isFetching(h),permalinkedReply:p,remainingCachedShowableChildCommentIds:s,totalChildCommentCount:C||0,visibleChildComments:c}},n)(class extends a(d[2]).Component{constructor(...t){super(...t),this.state={hasPermalinkedReplyBeenHidden:!1},this.$CommentThread3=(t=>{const{analyticsContext:n,childCommentsCacheCanShowMoreWithoutFetch:o,childCommentsIsFetching:l,hideReplies:s,loadChildComments:c,loadChildCommentsV2:C,onHidePermalinkReply:h,parentComment:{id:p,userId:u},permalinkedReply:I,postId:k,postOwnerId:y,showReplies:w}=this.props;l||(t?(s(p),r(d[5]).logInteractionAction({eventName:'instagram_child_comments_collapse',commentAuthorId:u,commentId:p,containerModule:n,mediaAuthorId:y,mediaId:k}),null!=I&&(null!=h&&h(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):o?w(p):!0===i(d[6])._("1c46bf25792a3c449303f8a67f0a6e5c","01925c04edf774b7f294f8aca6eb3329")?C(k,p):c(p))})}componentDidUpdate(t,n){t.parentComment.id===this.props.parentComment.id&&t.permalinkedReplyId===this.props.permalinkedReplyId||this.setState({hasPermalinkedReplyBeenHidden:!1})}$CommentThread1(){const{childCommentsCacheCanShowMoreWithoutFetch:t,childCommentsCanFetchMorePagination:n,childCommentsHasNextPage:o,permalinkedReply:l,remainingCachedShowableChildCommentIds:s}=this.props;return null!=l&&!0===o&&!0===t&&!0!==n&&1===s.count()&&s.get(0)===l.id}$CommentThread2(t){const{childCommentsHasNextPage:n}=this.props;return!0!==n||t&&this.$CommentThread1()}$CommentThread4(t,n){const{childCommentsIsFetching:o,customPaddingStyle:l,replyPagerNodeRef:s,totalChildCommentCount:c}=this.props,C=this.$CommentThread2(n),h=c-(t+(n?1:0));let p;return p=C&&!o?r(d[7])(4085):h<=0?r(d[7])(1694):r(d[7])(3024,{'hidden replies':h}),a(d[2]).createElement("li",{className:"_61Di1",ref:s},a(d[2]).createElement(r(d[8]).Box,{direction:"row",marginBottom:t>0&&'compact'!==l?4:0,marginTop:n?2:0},a(d[2]).createElement(r(d[8]).Button,{borderless:!0,onClick:()=>this.$CommentThread3(C)},a(d[2]).createElement("div",{className:"_7mCbS"}),a(d[2]).createElement("span",{className:"EizgU"},p)),o&&a(d[2]).createElement("div",{className:"RA2Jp"},a(d[2]).createElement(r(d[8]).Spinner,{size:"small"}))))}render(){const{analyticsContext:n,code:o,commentingDisabledForViewer:l,customIndentationPadding:s,customPaddingStyle:c,hideUserAvatar:C,innerRef:h,isPermalinkedComment:p,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,parentComment:w,permalinkedReply:P,permalinkedReplyAnimating:R,permalinkedReplyId:b,permalinkedReplyNodeRef:v,postId:A,postOwnerId:f,reducedAvatarMargin:N,showCommentOptionsInline:T,showRemoveIcon:x,totalChildCommentCount:S,visibleChildComments:M}=this.props,{hasPermalinkedReplyBeenHidden:V}=this.state;let E=null;!P||V&&0===M.count()||(E=a(d[2]).createElement("div",{className:`IbtNy ${!0!==R||V?"":"_4Rhts"}`,ref:v},a(d[2]).createElement(t,{childComment:P,disableTimestampNav:!0,parentProps:this.props})));const F=M.map((n,o)=>E&&i(d[9])(P).id===n.id?null:a(d[2]).createElement(t,{childComment:n,key:o,parentProps:this.props})).filter(t=>null!=t),O=this.$CommentThread4(F.count(),null!=E),_=null!=s?{margin:`12px 0 0 ${s}px`,width:`calc(100% - ${s}px)`}:void 0;return a(d[2]).createElement("ul",{className:`Mr508 ${'compact'===c?"g2M1O":""}`,ref:h},a(d[2]).createElement(i(d[3]),{analyticsContext:n,code:o,commentingDisabledForViewer:l,commentOwnerId:w.userId,commentThreadId:w.id,customPaddingStyle:c,disableTimestampNav:!0===p&&null==b,hideUserAvatar:!!C,id:w.id,isAuthorVerified:w.isAuthorVerified,isPermalinkedComment:p,isRestrictedPending:w.isRestrictedPending,likeCount:w.likeCount,likedByViewer:w.likedByViewer,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,postedAt:w.postedAt,postId:A,postOwnerId:f,reducedAvatarMargin:N,showCommentOptionsInline:T,showRemoveIcon:x,showRichComment:!0,text:w.text,variant:r(d[4]).VARIANTS.flexible}),0!==S&&a(d[2]).createElement("li",null,a(d[2]).createElement("ul",{className:"TCSYW",style:_},E,O,F)))}});e.default=o},6619140,[6619138,6619141,3,6619142,13239026,3801122,13435040,13434940,13500463,13500444,6619148,13435060,13239122,13435065,3801129,5]);
__d(function() {},6619141,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=750,o=r(d[1])(866),n=r(d[1])(4023),s=r(d[1])(75),c=r(d[1])(446),l=r(d[1])(1189),p=r(d[1])(2574),h=t=>{const{commentOwnerId:o,commentOwnerUsername:n,isAuthorVerified:s,isCaption:l,isRestrictedPending:p,onLoggedOutIntentClickLoginModal:h,postOwnerIsUnpublished:C,showRichComment:u}=t.parentProps,I=p&&!t.parentState.showRestrictedContent,w=l?'h2':'h3',k=t=>{!r(d[2]).isDesktop()||r(d[3]).isUserLoggedIn()||r(d[4]).isWhitelistedCrawlBot()||!0!==i(d[5])._("3b554decc698dc13e44ad0e4096e5df4","a6b43c5441ab19b7b39e005e49cc9bb2")||(t.preventDefault(),h(r(d[6]).buildUserLink(i(d[7])(n)),'post_username_click',n))};return I?a(d[8]).createElement(r(d[9]).Box,{marginBottom:1},a(d[8]).createElement(r(d[9]).Text.Body,{color:"ig-tertiary-text",weight:"semibold"},c)):l&&C?null:a(d[8]).createElement(w,{className:`_6lAjh ${!0===p?"uQNwj":""}`},a(d[8]).createElement(r(d[9]).Box,{marginEnd:1},a(d[8]).createElement(i(d[10]),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:o},a(d[8]).createElement(r(d[9]).Button,{borderless:!0,color:"ig-secondary-button",href:r(d[6]).buildUserLink(i(d[7])(n)),onClick:k},i(d[7])(n)))),u&&s&&a(d[8]).createElement(r(d[9]).Box,{marginEnd:1},a(d[8]).createElement(r(d[9]).VerifiedBadge,{size:"small"})))},C=t=>{const{parentProps:o}=t,{commentThreadId:n,disableTimestampNav:s,id:c,postShortcode:l,postedAt:p}=o;let h=a(d[8]).createElement(i(d[11]),{className:"FH9sR",value:p});if(l&&c){const t=n&&n!==c?r(d[6]).buildReplyPermalink(l,n,c,r(d[2]).isMobile()):r(d[6]).buildCommentPermalink(l,c,r(d[2]).isMobile()),o=!0===s?t=>t.preventDefault():void 0;h=a(d[8]).createElement(i(d[12]),{className:"gU-I7",href:t,onClick:o},h)}return h};class u extends a(d[8]).PureComponent{constructor(...o){super(...o),this.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},this.$PostComment2=(()=>{this.setState({showCommentOptionsDialog:!0})}),this.$PostComment3=(()=>{r(d[2]).isMobile()&&this.props.showRichComment&&!this.props.isCaption&&(this.$PostComment4=setTimeout(this.$PostComment2,t))}),this.$PostComment1=(()=>{clearTimeout(this.$PostComment4)}),this.$PostComment5=(()=>{this.setState({showCommentOptionsDialog:!1})}),this.$PostComment6=(()=>{this.setState({showCommentOptionsDialog:!1}),this.props.onDeleteComment()}),this.$PostComment7=(()=>{const{id:t,onDeleteCommentClick:o}=this.props;o&&o(i(d[7])(t))}),this.$PostComment8=(t=>{const{onLikeComment:o,onUnlikeComment:n}=this.props;t?o():n()}),this.$PostComment9=(()=>{const{isRestrictedPending:t,likedByViewer:o,onLikeComment:n}=this.props;o||t||n()}),this.$PostComment10=(()=>{const{code:t,fetchCommentLikes:o,id:n,loggedIn:s,onLikeCountClick:c,onLoggedOutIntentClick:l,onLoggedOutIntentClickLoginModal:p}=this.props;if(s)c&&(o(),c(i(d[7])(n)));else{const o='post_comment_like_count';r(d[2]).isDesktop()?p(r(d[6]).buildMediaLink(i(d[7])(t)),o):l(o)}}),this.$PostComment11=(t=>{const{analyticsContext:o,commentOwnerId:n,commentThreadId:s,id:c,isRestrictedPending:l,mediaType:p,postId:h,postOwnerId:C,viewerId:u}=this.props;switch(t.state){case'entered':if(null!=c&&null!=u)return r(d[13]).logCommentImpression({commentId:c,commentAuthorId:n,commentThreadId:s,containerModule:o,mediaId:h,mediaAuthorId:C,mediaType:p}),void(l&&i(d[14]).log({action:'impression',actorIgUserid:n,commentId:c,commentThreadId:s,parentMediaId:h,step:'pending_comment'}))}}),this.$PostComment12=(()=>{const{code:t,loggedIn:o,onLoggedOutIntentClick:n,onLoggedOutIntentClickLoginModal:s,onReplyClick:c}=this.props;if(o)c();else{r(d[2]).isDesktop()?s(r(d[6]).buildMediaLink(i(d[7])(t)),"post_comment_reply"):n("post_comment_reply")}}),this.$PostComment13=(()=>{const{commentOwnerId:t,commentThreadId:o,id:n,postId:s}=this.props;i(d[14]).log({action:'click',actorIgUserid:t,commentId:n,commentThreadId:o,parentMediaId:s,step:'pending_comment_see_hidden'}),this.setState({showRestrictedContent:!0})}),this.$PostComment14=(()=>{const{commentOwnerId:t,commentThreadId:o,id:n,postId:s}=this.props;i(d[14]).log({action:'click',actorIgUserid:t,commentId:n,commentThreadId:o,parentMediaId:s,step:'pending_comment_approve'}),this.setState({showApproveCommentDialog:!0})}),this.$PostComment15=(()=>{this.setState({showApproveCommentDialog:!1})}),this.$PostComment16=(()=>{const{commentOwnerId:t,commentThreadId:o,id:n,postId:s}=this.props;i(d[14]).log({action:'click',actorIgUserid:t,commentId:n,commentThreadId:o,parentMediaId:s,step:this.state.showRestrictedContent?'pending_comment_delete':'pending_comment_delete_hidden'}),this.$PostComment7()}),this.$PostComment17=(()=>{const{code:t,id:o,likeCount:n,loggedIn:s}=this.props;if(!n)return null;const c=n.toLocaleString(),l=r(d[1])(1269,{'like count':c}),p=r(d[1])(2014,{'like count':c}),h=1===n?l:p;return n>0&&(r(d[2]).isDesktop()||!s?a(d[8]).createElement("button",{className:"FH9sR",onClick:this.$PostComment10},h):a(d[8]).createElement(i(d[12]),{className:"FH9sR",href:`/p/${i(d[7])(t)}/c/${i(d[7])(o)}/liked_by/`},h))})}componentWillUnmount(){this.$PostComment1()}render(){const{className:t,commentOwnerAvatar:c,commentOwnerId:u,commentOwnerUsername:I,commentThreadId:w,commentingDisabledForViewer:k,customPaddingStyle:P,hideUserAvatar:$,id:E,isCaption:O,isEdited:b,isPermalinkedComment:_,isRestrictedPending:v,likedByViewer:T,postId:y,postOwnerId:R,reducedAvatarMargin:f,showCommentOptionsInline:L,showRemoveIcon:U,showRichComment:N,variant:A,viewerId:D}=this.props,M=this.props.text.toString(),S=!O&&D&&(D===u||R===D),B=S&&U&&!N,x=!(O||!D||B||v),F=i(d[15])._("e4bca332e1f7812a45af36245ce8805a")&&!r(d[3]).isUserLoggedIn()&&r(d[4]).isLoggedOutReportableCountryCode()&&_||N&&!r(d[2]).isMobile()&&!O&&null!=D,V=A===r(d[16]).VARIANTS.feed?i(d[17]):i(d[18]),j=!!O||!x&&!S,H=v&&!this.state.showRestrictedContent,Q=v&&this.state.showRestrictedContent,q=a(d[8]).createElement("div",{className:!0===L?"FH9sR":""},a(d[8]).createElement("div",{className:`${!0!==L?"_4l6NB":""} ${!0===L?"Ttrid":""}`},a(d[8]).createElement(r(d[9]).SVGIconButton,{onClick:this.$PostComment2},a(d[8]).createElement(r(d[9]).Box,{alignItems:"center",height:24,justifyContent:"center",width:24},a(d[8]).createElement(i(d[19]),{alt:o,color:"ig-secondary-text"})))));return a(d[8]).createElement(r(d[20]).Viewpoint,{action:this.$PostComment11,id:M.replace(' ','-')},o=>a(d[8]).createElement(r(d[21]).DoubleTappable,{onDoubleClick:this.$PostComment9,role:"button"},a(d[8]).createElement("li",{className:i(d[22])(`gElp9 ${N?"rUo9f":""} ${'compact'===P?"UPTQ4":""}`,t),onMouseDown:this.$PostComment3,onMouseUp:this.$PostComment1,onTouchEnd:this.$PostComment1,onTouchMove:this.$PostComment1,onTouchStart:this.$PostComment3,ref:o,role:"menuitem"},a(d[8]).createElement("div",{className:"P9YgZ"},a(d[8]).createElement("div",{className:`C7I1f ${j?"X7jCj":""}`},N&&!$&&a(d[8]).createElement(i(d[10]),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:u},a(d[8]).createElement(i(d[23]),{className:`TKzGu ${!0===f?"q0Pmt":""} ${!0===v?"uQNwj":""}`,isLink:!0,profilePictureUrl:c,size:r(d[9]).CORE_CONSTANTS.AVATAR_SIZES.small,storyEntrypoint:'post_comment',username:I})),a(d[8]).createElement("div",{className:"C4VMK"},a(d[8]).createElement(h,{parentProps:this.props,parentState:this.state}),!H&&a(d[8]).createElement(V,{className:!0===v?"uQNwj":"",component:void 0,componentType:void 0,edited:b,isCaption:O,value:M}),N&&a(d[8]).createElement(r(d[9]).Box,{marginBottom:1,marginTop:'compact'===P?2:4},a(d[8]).createElement(r(d[9]).Text.Footnote,{color:"ig-secondary-text"},a(d[8]).createElement(C,{parentProps:this.props}),!O&&!v&&a(d[8]).createElement(a(d[8]).Fragment,null,this.$PostComment17(),!0!==k&&a(d[8]).createElement("button",{className:"FH9sR",onClick:this.$PostComment12},s),F&&!0===L&&q),H&&a(d[8]).createElement("button",{className:"FH9sR",onClick:this.$PostComment13},l),Q&&a(d[8]).createElement("button",{className:"FH9sR",onClick:this.$PostComment14},r(d[24]).APPROVE_COMMENT_CTA),v&&a(d[8]).createElement("button",{className:"FH9sR",onClick:this.$PostComment16},p))))),B&&a(d[8]).createElement("button",{className:"_6qK3y",onClick:this.$PostComment7,title:n},n),F&&!L&&q,x&&a(d[8]).createElement(i(d[25]),{className:"jdtwu",isLiked:!!T,large:!1,onChange:this.$PostComment8}))),this.state.showCommentOptionsDialog&&E&&a(d[8]).createElement(i(d[26]),{canDeleteComment:!!S,commentId:E,commentOwnerAvatar:c,commentOwnerId:u,commentOwnerUsername:I,mediaId:y,mediaOwnerId:R,onClose:this.$PostComment5,onDelete:this.$PostComment6}),this.state.showApproveCommentDialog&&E&&a(d[8]).createElement(r(d[24]).ApproveCommentDialog,{commentId:E,commentOwnerId:u,commentOwnerUsername:I,commentThreadId:w,onClose:this.$PostComment15,postId:y})))}}u.defaultProps={showRichComment:!1};var I=r(d[33]).connect(function(t,o){const{commentOwnerId:n,postId:s,postOwnerId:c}=o,l=r(d[27]).getUserById(t,n),p=r(d[28]).getPostOrNullById(t,s);return{commentOwnerAvatar:i(d[7])(l.profilePictureUrl),commentOwnerId:i(d[7])(l.id),commentOwnerUsername:i(d[7])(l.username),postOwnerIsUnpublished:r(d[27]).getUserById(t,c).isUnpublished,postShortcode:p&&p.code||null,viewerId:t.users.viewerId}},function(t,o){const n={commentAuthorId:o.commentOwnerId,commentId:o.id,containerModule:o.analyticsContext,mediaAuthorId:o.postOwnerId,mediaId:o.id,mediaType:o.mediaType};return{fetchCommentLikes:()=>t(r(d[29]).requestCommentLikes(i(d[7])(o.id))),onDeleteComment:()=>t(r(d[30]).deleteComment(o.postId,o.id||'')),onLikeComment:o=>t(r(d[30]).likeComment({...n,userId:o||''})),onLoggedOutIntentClick(o){t(r(d[31]).openLoggedOutIntentDialog(o))},onLoggedOutIntentClickLoginModal(o,n,s){const c=r(d[2]).isDesktop()?'feature_wall':'content_wall';t(r(d[31]).openLoginModal(c,o,n,s))},onReplyClick:n=>t(r(d[32]).changePendingComment(o.postId,`@${n||''} `,i(d[7])(o.commentThreadId),o.commentOwnerId,n)),onUnlikeComment:o=>t(r(d[30]).unlikeComment({...n,userId:o||''}))}},function(t,o,n){return{...t,...o,...n,onLikeComment:()=>o.onLikeComment(t.viewerId),onReplyClick:()=>o.onReplyClick(t.commentOwnerUsername),onUnlikeComment:()=>o.onUnlikeComment(t.viewerId)}})(u);e.default=I},6619142,[6619143,13434940,13434887,13434984,13434885,13435040,13435172,13500444,3,13500463,3801146,3801283,13500475,3801119,6619144,13434937,13239026,13239128,3407884,13500952,13435382,13239105,13500468,13500776,6619145,13239135,6619146,13435258,3801128,13238957,13239134,13435305,6488066,5]);
__d(function() {},6619143,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={falco:!0,pigeon:!1};e.default=class{static log(t){const{action:n,actorIgUserid:o,commentId:c,commentThreadId:s,parentMediaId:l,step:_}=t;this.$IgWellbeingRestrictManageCommentFalcoEvent1(()=>({action:n,actor_ig_userid:parseInt(o),comment_id:c?parseInt(c):void 0,entrypoint:'comment',parent_comment_id:s===c?void 0:parseInt(s),parent_media_id:parseInt(l),step:_}))}static $IgWellbeingRestrictManageCommentFalcoEvent1(n){r(d[0]).FalcoLogger.log('ig_wellbeing_restrict_manage_comment',n(),{},t)}}},6619144,[13434942]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o=r(d[0])(827),t=r(d[0])(2918),n=o=>r(d[0])(128,{username:o});const p=r(d[6]).connect(null,function(o,t){return{onApproveClick(){o(r(d[5]).approveRestrictedComment(t.commentId))}}})(class extends a(d[2]).Component{constructor(...o){super(...o),this.$_ApproveCommentDialog1=(()=>{const{commentId:o,commentOwnerId:t,commentThreadId:n,postId:p}=this.props;i(d[1]).log({action:'click',actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:p,step:'approval_page_approve_this_comment'}),this.props.onApproveClick(),this.props.onClose()}),this.$_ApproveCommentDialog2=(()=>{const{commentId:o,commentOwnerId:t,commentThreadId:n,postId:p}=this.props;i(d[1]).log({action:'click',actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:p,step:'approval_page_cancel'}),this.props.onClose()})}render(){const{commentOwnerUsername:p}=this.props;return a(d[2]).createElement(r(d[3]).Dialog,{body:n(p),onModalClose:this.props.onClose,title:t},a(d[2]).createElement(r(d[3]).DialogItem,{color:"ig-primary-button",onClick:this.$_ApproveCommentDialog1},o),a(d[2]).createElement(r(d[3]).DialogItem,{onClick:this.$_ApproveCommentDialog2},r(d[4]).CANCEL_TEXT))}});e.APPROVE_COMMENT_CTA=o,e.ApproveCommentDialog=p},6619145,[13434940,6619144,3,13500463,13435272,13239134,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=class extends a(d[0]).Component{constructor(...t){super(...t),this.state={showReportDialog:!1},this.$CommentOptionsDialog1=(()=>{this.setState({showReportDialog:!0})}),this.$CommentOptionsDialog2=(()=>{const{onClose:t}=this.props;t(),this.setState({showReportDialog:!1})})}render(){const{canDeleteComment:t,commentId:o,commentOwnerAvatar:n,commentOwnerId:s,commentOwnerUsername:l,mediaOwnerId:c,onDelete:p}=this.props,{showReportDialog:h}=this.state;if(h)return a(d[0]).createElement(i(d[1]),{frxLocation:r(d[2]).FRXLocation.COMMENTS,frxObjectType:r(d[2]).FRXObjectType.COMMENT,onClose:this.$CommentOptionsDialog2,reportedObjectID:o,reportedOwner:{id:s,username:l,profilePicURL:n},useSimpleBlockModalWithoutRefresh:s===c});const C=r(d[3]).isUserLoggedIn()?a(d[0]).createElement(r(d[4]).DialogItem,{color:"ig-error-or-destructive",onClick:this.$CommentOptionsDialog1},r(d[5])(1273)):a(d[0]).createElement(i(d[6]),{contentId:o});return a(d[0]).createElement(r(d[4]).Dialog,{onModalClose:this.$CommentOptionsDialog2},C,t&&a(d[0]).createElement(r(d[4]).DialogItem,{color:"ig-error-or-destructive",onClick:p},r(d[5])(3378)),a(d[0]).createElement(r(d[4]).DialogItem,{onClick:this.$CommentOptionsDialog2},r(d[7]).CANCEL_TEXT))}};e.default=t},6619146,[3,13500897,13435142,13434984,13500463,13434940,6619147,13435272]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return u[n]}function t(n,t){const o=c[n];return r(d[2]).buildLegalReportLink(o,t)}function o(){const n=r(d[3]).getCountryCode();return'DE'!==n&&'AT'!==n?null:n}Object.defineProperty(e,'__esModule',{value:!0});const u={DE:r(d[0])(813),AT:r(d[0])(3668)},c={DE:r(d[1]).NETZDG_REPORT_CONTACT_FORM_PATH,AT:r(d[1]).CPA_REPORT_CONTACT_FORM_PATH};e.default=function({contentId:u}){const c=o();if(r(d[4]).isUserLoggedIn()||null==c)return null;const l=t(c,u),T=n(c);return a(d[6]).createElement(r(d[7]).DialogItem,{color:"ig-error-or-destructive",onClick:()=>{r(d[5]).redirect(l)}},T)}},6619147,[13434940,13435123,13435172,13434885,13434984,13435296,3,13500463]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(o,n,s){const c=new(r(d[1]).FunctionalityTracker)('comment');return(u,l)=>{var p;c.attempt(),u({type:r(d[0]).COMMIT_PENDING_COMMENT_REQUESTED,postId:o}),r(d[2]).logAction_DEPRECATED('comment',{source:s});const C=l(),{text:E,repliedToCommentAuthorId:I,repliedToCommentId:_}=C.pendingComments.get(o,r(d[3]).EMPTY_PENDING_COMMENT),{hasRankedComments:T}=C.posts.byId.get(o,{hasRankedComments:!1}),M=Boolean(null===(p=r(d[4]).getViewer(C))||void 0===p?void 0:p.isVerified);return c.request(),i(d[5])(r(d[6]).commentOnPost(o,E,_).then(t=>{c.responseSuccess();const p=i(d[7])(r(d[4]).getViewer(l())).id,N=t.id;u({type:r(d[0]).COMMIT_PENDING_COMMENT_SUCCEEDED,postId:o,commentText:E,hasRankedComments:T,commentAuthorId:p,commentAuthorIsVerified:M,commentId:N,postedAt:Math.round(Date.now()/1e3),repliedToCommentId:_}),r(d[2]).logAction_DEPRECATED('commentSuccess',{source:s}),r(d[8]).logOrganicComment({commentAuthorId:p,commentId:N,containerModule:s,mediaId:o,mediaAuthorId:n,mediaType:r(d[9]).getMediaTypeById(C,o),parentCommentId:_,parentCommentAuthorId:I}),c.completeSuccess()},l=>{var p;c.responseFailure();const C=(null===(p=l.responseObject)||void 0===p?void 0:p.spam)||!1;if(C){var E,I,_,T;const t=null===(E=l.responseObject)||void 0===E?void 0:E.feedback_title,o=null===(I=l.responseObject)||void 0===I?void 0:I.feedback_message,n=null===(_=l.responseObject)||void 0===_?void 0:_.feedback_url,s=null===(T=l.responseObject)||void 0===T?void 0:T.feedback_action;u(r(d[10]).showSentryFeedback({title:t,message:o,url:n,action:s}))}u({type:r(d[0]).COMMIT_PENDING_COMMENT_FAILED,postId:o,toast:C?void 0:{text:r(d[11])(2180),actionText:r(d[11])(283),actionHandler:()=>u(t(o,n,s))}}),r(d[2]).logAction_DEPRECATED('commentFailure',{source:s}),c.completeFailure()}))}}Object.defineProperty(e,'__esModule',{value:!0}),e.changePendingComment=function(t,o,n,s,c){return{type:r(d[0]).CHANGE_PENDING_COMMENT,postId:t,text:o,repliedToCommentId:n,repliedToCommentAuthorId:s,repliedToUsername:c}},e.clearPendingComment=function(t){return{type:r(d[0]).CLEAR_PENDING_COMMENT,postId:t}},e.commitPendingComment=t},6488066,[13435134,13435274,13434982,13238410,13435258,13434974,13435066,13500444,3801119,3801128,13435543,13434940]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return!t.deleted&&!t.didReportAsSpam}Object.defineProperty(e,'__esModule',{value:!0});const n=i(d[0])(t=>t.posts.byId,t=>t.comments.byId,t=>t.threadedComments.parentByPostId,(n,o,s)=>c=>{const l=s.get(c),u=n.get(c);if(!l||!u)return r(d[1]).List();const{commentIds:C}=l,I=r(d[2]).getVisibleCount(l.pagination),h=u.hasRankedComments?0:C.count()-I;return C.map(t=>i(d[3])(o.get(t))).slice(h,h+I).filter(n=>t(n))}),o=i(d[0])(t=>t.comments.byId,t=>t.threadedComments.childByParentId,(n,o)=>s=>{const c=i(d[3])(o.get(s)),{commentIds:l,pagination:u}=c,C=l.map(t=>i(d[3])(n.get(t))),I=C.count()-r(d[2]).getVisibleCount(u);return{visibleChildComments:C.slice(I,C.count()).filter(n=>t(n)),remainingCachedShowableChildCommentIds:C.slice(0,I).filter(n=>t(n)).map(t=>t.id)}}),s=i(d[0])(t=>t.comments.byId,t=>t.threadedComments.childByParentId,(t,n)=>t=>{return i(d[3])(n.get(t)).count||0});e.selectVisibleParentCommentsForPostId=n,e.selectChildCommentsForParentIdSplitByVisibility=o,e.getTotalChildCommentCountForParentId=s},6619148,[13435049,2,13435065,13500444]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0])(585);e.default=function(n){const o=t=>{const{handleLoadMoreCommentsClick:o,loggedIn:c,onLoggedOutIntentClickLoginModal:l,url:s}=n;t.preventDefault(),!c&&r(d[1]).isDesktop()?l(s,'post_comment_view_all'):o(s)};return a(d[2]).createElement(r(d[3]).Box,{justifyContent:"center",marginBottom:n.marginBottom,marginTop:n.marginTop,minHeight:40,position:"relative"},!n.commentsIsFetching&&a(d[2]).createElement(i(d[4]),{onClick:t=>o(t)},a(d[2]).createElement(i(d[5]),{alt:t})),n.commentsIsFetching&&a(d[2]).createElement(r(d[3]).Spinner,{position:"absolute",size:"medium"}))}},6619149,[13434940,13434887,3,13500463,13500495,6619150]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=a(d[2]).memo(function(n){return!0===(r(d[0]).isUserLoggedIn()?i(d[1])._("17eee9316ff98419f0da0f87506e1826","5674296d5992b855933c716066375b34"):i(d[1])._("282188012a6be9b45d0a5625db9131e5","42f2cd6fa53e15b032c207ba139724e3"))?a(d[2]).createElement(i(d[3]),n):a(d[2]).createElement(i(d[4]),i(d[5])({},n,{viewBox:"0 0 24 24"}),a(d[2]).createElement("circle",{cx:"12.008",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),a(d[2]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"5.872",x2:"18.144",y1:"12",y2:"12"}),a(d[2]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"12.008",x2:"12.008",y1:"5.864",y2:"18.136"}))});e.default=n},6619150,[13434984,13435040,3,6619151,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=a(d[0]).memo(function(n){return a(d[0]).createElement(i(d[1]),i(d[2])({},n,{viewBox:"0 0 24 24"}),a(d[0]).createElement("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a(d[0]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),a(d[0]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}))});e.default=n},6619151,[3,13500499,13435345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t={onLoggedOutIntentClick:r(d[16]).openLoggedOutIntentDialog,loadMore:r(d[17]).requestNextCommentPage};var n=r(d[18]).connect(function(t,n){const o=r(d[14]).getPreviewCommentsForPostId(t,n.id),s=r(d[15]).getNumCommentsForPostId(t,n.id);return{analyticsContext:t.navigation.pageIdentifier||'',commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:s,previewComments:o,viewportWidth:t.displayProperties.viewportWidth}},t)(class extends a(d[7]).PureComponent{constructor(...t){super(...t),this.$PreviewComments2=(t=>{const{analyticsContext:n,code:o,id:s,loadMore:l,loggedIn:c,mediaType:p,onLoggedOutIntentClick:u,ownerId:I,variant:h}=this.props,C=r(d[1]).isMobile();if(t.preventDefault(),h===r(d[2]).VARIANTS.feed||C){const t=r(d[3]).buildMediaCommentsLink(o,C);c?(r(d[4]).browserHistory.push(t),r(d[5]).logInteractionAction({containerModule:n,eventName:'instagram_organic_comment_view_all',mediaAuthorId:I,mediaId:s,mediaType:p})):u('post_comment_view_all')}else l(s,o),r(d[5]).logInteractionAction({containerModule:n,eventName:'instagram_organic_comment_view_more',mediaAuthorId:I,mediaId:s,mediaType:p})})}componentDidUpdate(t,n,o){const s=t.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,l=this.$PreviewComments1;l&&r(d[6]).measure(()=>{let n=l.scrollTop;s?n=l.scrollHeight:null!=o?n=l.scrollHeight-o:this.props.id!==t.id&&(n=0),r(d[6]).mutate(()=>{l.scrollTop=n})})}getSnapshotBeforeUpdate(t){const n=t.comments,o=this.props.comments;if(t.id===this.props.id&&o&&n&&o.count()>n.count()){const t=this.$PreviewComments1;if(t)return t.scrollHeight-t.scrollTop}return null}render(){const{analyticsContext:t,captionAndTitle:n,captionIsEdited:o,className:s,commentsAreStacked:l,commentsDisabled:c,commentsHasNextPage:p,commentsTotalCount:u,handleDeleteCommentClick:I,id:h,loggedIn:C,mediaType:v,ownerId:w,postedAt:A,previewComments:T,showIGTVCaption:y,showRemoveCommentIcons:f,variant:P}=this.props,_=!0!==c&&(!0===p||null!=T&&T.length<u);if((null==n||''===n)&&0===u&&!_)return null;const N=T;return a(d[7]).createElement("div",{className:i(d[8])(`KlCQn ${r(d[1]).isMobile()||P!==r(d[2]).VARIANTS.flexible||l?"":"G14m-"}`,s),ref:t=>this.$PreviewComments1=t},a(d[7]).createElement("ul",{className:"k59kT"},null!=n&&''!==n&&a(d[7]).createElement(i(d[9]),{analyticsContext:t,commentOwnerId:w,isCaption:!0,isEdited:!!o,isRestrictedPending:!1,key:"captionAndTitle",loggedIn:C,mediaType:v,postedAt:A,postId:h,postOwnerId:w,showIGTVCaption:y,showRemoveIcon:!1,text:n,variant:P}),_&&this.renderLoadMoreCommentsLink(),!0!==c&&N&&N.map(n=>a(d[7]).createElement(i(d[9]),{analyticsContext:t,commentOwnerId:n.userId,id:n.id,isAuthorVerified:n.isAuthorVerified,isRestrictedPending:n.isRestrictedPending,key:n.id,likedByViewer:n.likedByViewer,loggedIn:C,mediaType:v,onDeleteCommentClick:I,postedAt:n.postedAt,postId:h,postOwnerId:w,showRemoveIcon:f,text:n.text,variant:P}))))}renderLoadMoreCommentsLink(){const{comments:t,commentsIsFetching:n,commentsTotalCount:o,variant:s}=this.props,l=r(d[10])(771);let c;return c=t&&t.count()+r(d[11]).PAGE_SIZE>=o||s===r(d[2]).VARIANTS.feed||r(d[1]).isMobile()?r(d[10])(2112,{count:a(d[7]).createElement(i(d[12]),{value:o})}):l,a(d[7]).createElement("li",{className:"lnrre"},a(d[7]).createElement(r(d[13]).Button,{borderless:!0,dangerouslySetClassName:{__className:"Z4IfV"},disabled:n,onClick:this.$PreviewComments2},c),n&&a(d[7]).createElement("div",{className:"hH5xZ"},a(d[7]).createElement(r(d[13]).Spinner,{position:"static",size:"small"})))}});e.default=n},6619152,[6619153,13434887,13239026,13435172,13435296,3801122,13435116,3,13500468,6619142,13434940,13435133,13500798,13500463,13239122,3801128,13435305,13239134,5]);
__d(function() {},6619153,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[6]).connect(null,function(t,o){return{onDeleteClick(){t(r(d[5]).deleteComment(o.postId,o.commentId))}}})(class extends a(d[1]).Component{constructor(...t){super(...t),this.$DeleteCommentModal1=(t=>{r(d[0]).logAction_DEPRECATED('commentDelete',{source:this.props.analyticsContext}),this.props.onDeleteClick(),this.props.onClose(t)})}render(){return a(d[1]).createElement(r(d[2]).Dialog,{onModalClose:this.props.onClose},a(d[1]).createElement(r(d[2]).DialogItem,{color:"ig-error-or-destructive",onClick:this.$DeleteCommentModal1},r(d[3])(3973)),a(d[1]).createElement(r(d[2]).DialogItem,{onClick:this.props.onClose},r(d[4]).CANCEL_TEXT))}});e.default=t},6619154,[13434982,3,13500463,13434940,13435272,13239134,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createSelector(t=>t.postRemoveComments,({isVisible:t})=>t);e.getPostRemoveCommentsIsVisible=t},6619155,[9]);